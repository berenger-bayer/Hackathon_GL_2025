(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[19],{35695:(e,r,s)=>{"use strict";var t=s(18999);s.o(t,"useParams")&&s.d(r,{useParams:function(){return t.useParams}}),s.o(t,"useRouter")&&s.d(r,{useRouter:function(){return t.useRouter}}),s.o(t,"useSearchParams")&&s.d(r,{useSearchParams:function(){return t.useSearchParams}})},68845:(e,r,s)=>{Promise.resolve().then(s.bind(s,82192))},74436:(e,r,s)=>{"use strict";s.d(r,{k5:()=>o});var t=s(12115),n={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=t.createContext&&t.createContext(n),i=["attr","size","title"];function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e}).apply(this,arguments)}function c(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,t)}return s}function d(e){for(var r=1;r<arguments.length;r++){var s=null!=arguments[r]?arguments[r]:{};r%2?c(Object(s),!0).forEach(function(r){var t,n,a;t=e,n=r,a=s[r],(n=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var t=s.call(e,r||"default");if("object"!=typeof t)return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(s,r))})}return e}function o(e){return r=>t.createElement(m,l({attr:d({},e.attr)},r),function e(r){return r&&r.map((r,s)=>t.createElement(r.tag,d({key:s},r.attr),e(r.child)))}(e.child))}function m(e){var r=r=>{var s,{attr:n,size:a,title:c}=e,o=function(e,r){if(null==e)return{};var s,t,n=function(e,r){if(null==e)return{};var s={};for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){if(r.indexOf(t)>=0)continue;s[t]=e[t]}return s}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)s=a[t],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}(e,i),m=a||r.size||"1em";return r.className&&(s=r.className),e.className&&(s=(s?s+" ":"")+e.className),t.createElement("svg",l({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:s,style:d(d({color:e.color||r.color},r.style),e.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),c&&t.createElement("title",null,c),e.children)};return void 0!==a?t.createElement(a.Consumer,null,e=>r(e)):r(n)}},82192:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>l});var t=s(95155),n=s(12115),a=s(35695),i=s(29911);function l(){var e;let{id:r}=(0,a.useParams)(),s=(0,a.useRouter)(),l=(0,a.useSearchParams)().get("updated"),[c,d]=(0,n.useState)(null),[o,m]=(0,n.useState)(!0),[x,u]=(0,n.useState)(null),[b,h]=(0,n.useState)(!1);if((0,n.useEffect)(()=>{r&&fetch("/api/patients/".concat(r)).then(async e=>{if(!e.ok)throw Error("Erreur API: ".concat(e.status));d(await e.json()),m(!1),"true"===l&&(h(!0),setTimeout(()=>{window.print()},1e3),setTimeout(()=>{h(!1)},5e3))}).catch(e=>{console.error("Erreur chargement fiche m\xe9dicale:",e),u("Impossible de charger les informations du patient"),m(!1)})},[r,l]),o)return(0,t.jsx)("div",{className:"min-h-screen flex justify-center items-center text-xl text-gray-700",children:"Chargement..."});if(x||!c)return(0,t.jsx)("div",{className:"min-h-screen flex justify-center items-center text-red-600 text-xl",children:x||"Patient introuvable."});let p=null==(e=c.diagnosis)?void 0:e.toLowerCase().includes("critique"),j=new Date(c.createdAt).toLocaleDateString("fr-FR"),f=c.poids&&c.taille?(c.poids/(c.taille*c.taille)).toFixed(1):null;return(0,t.jsxs)("div",{className:"min-h-screen p-6 print:p-0 bg-white text-black",children:[(0,t.jsxs)("header",{className:"hidden print:flex justify-between items-center border-b-2 border-blue-800 pb-4 mb-6",children:[(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-blue-900",children:"CENTRE HOSPITALIER UNIVERSITAIRE"}),(0,t.jsx)("p",{className:"text-gray-700",children:"Service de M\xe9decine G\xe9n\xe9rale"})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"font-bold",children:"UAC-IFRI-GL-2025"}),(0,t.jsx)("p",{children:"00229 Abomey-Calavi"}),(0,t.jsx)("p",{children:"T\xe9l: +229 XX XX XX XX"})]})]}),b&&(0,t.jsxs)("div",{className:"fixed top-4 right-4 bg-green-100 border-l-4 border-green-500 text-green-700 p-4 rounded shadow-md flex items-center space-x-2 no-print z-50",children:[(0,t.jsx)(i.A7C,{}),(0,t.jsx)("span",{children:"Fiche mise \xe0 jour ! Impression en cours..."})]}),(0,t.jsxs)("div",{className:"max-w-4xl mx-auto print:max-w-full",children:[(0,t.jsxs)("div",{className:"flex justify-between mb-6 no-print",children:[(0,t.jsxs)("button",{onClick:()=>s.back(),className:"flex items-center text-blue-800 hover:underline print:hidden",children:[(0,t.jsx)(i.QVr,{className:"mr-2"})," Retour"]}),(0,t.jsx)("div",{className:"flex gap-3",children:(0,t.jsxs)("button",{onClick:()=>window.print(),className:"bg-gray-700 text-white px-4 py-2 rounded flex items-center print:hidden",children:[(0,t.jsx)(i.n4o,{className:"mr-2"})," Imprimer"]})})]}),(0,t.jsxs)("div",{className:"text-center mb-8 border-b-2 border-blue-800 pb-4",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-blue-900 mb-2",children:"FICHE MEDICALE PATIENT"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["N\xb0 Dossier: ",c.id]})]}),p&&(0,t.jsxs)("div",{className:"mb-6 p-3 bg-red-100 border-l-4 border-red-500 rounded flex items-center print:bg-red-50",children:[(0,t.jsx)(i.BS8,{className:"text-red-600 mr-2 text-xl"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-bold text-red-700",children:"URGENCE MEDICALE"}),(0,t.jsx)("p",{className:"text-sm",children:"Prise en charge prioritaire requise"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"border border-gray-300 rounded p-4",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-blue-800 mb-4 pb-2 border-b border-blue-200",children:"IDENTIT\xc9 DU PATIENT"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("span",{className:"w-40 font-semibold",children:"Nom complet:"}),(0,t.jsx)("span",{className:"border-b border-dotted border-gray-400 flex-1",children:c.name})]}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("span",{className:"w-40 font-semibold",children:"Date cr\xe9ation:"}),(0,t.jsx)("span",{children:j})]}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("span",{className:"w-40 font-semibold",children:"\xc2ge/Sexe:"}),(0,t.jsxs)("span",{children:[c.age," ans / ",c.sexe||"NR"]})]}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("span",{className:"w-40 font-semibold",children:"N\xb0 S\xe9curit\xe9 Sociale:"}),(0,t.jsx)("span",{className:"border-b border-dotted border-gray-400 flex-1",children:c.numSecu||"Non renseign\xe9"})]})]})]}),(0,t.jsxs)("div",{className:"border border-gray-300 rounded p-4",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-blue-800 mb-4 pb-2 border-b border-blue-200",children:"PARAM\xc8TRES M\xc9DICAUX"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("span",{className:"w-40 font-semibold",children:"Taille/Poids:"}),(0,t.jsxs)("span",{children:[c.taille?"".concat(c.taille," m"):"NR"," / ",c.poids?"".concat(c.poids," kg"):"NR"]})]}),f&&(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("span",{className:"w-40 font-semibold",children:"IMC:"}),(0,t.jsxs)("span",{children:[f," kg/m\xb2"]})]}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("span",{className:"w-40 font-semibold",children:"M\xe9decin traitant:"}),(0,t.jsxs)("span",{children:["Dr ",c.medecin||"Non d\xe9sign\xe9"]})]})]})]})]}),(0,t.jsxs)("div",{className:"border border-gray-300 rounded p-4 mb-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-blue-800 mb-4 pb-2 border-b border-blue-200",children:"DIAGNOSTIC PRINCIPAL"}),(0,t.jsx)("div",{className:"p-3 rounded ".concat(p?"bg-red-50 border-l-4 border-red-500":"bg-gray-50"),children:(0,t.jsx)("p",{className:p?"font-bold text-red-700":"",children:c.diagnosis})})]}),(0,t.jsxs)("div",{className:"border border-gray-300 rounded p-4 mb-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-blue-800 mb-4 pb-2 border-b border-blue-200",children:"TRAITEMENT PRESCRIT"}),(0,t.jsx)("div",{className:"bg-gray-50 p-3 rounded",children:c.traitement?(0,t.jsx)("div",{className:"whitespace-pre-line",children:c.traitement}):(0,t.jsx)("p",{className:"italic text-gray-500",children:"Aucun traitement enregistr\xe9"})})]}),(0,t.jsxs)("div",{className:"border border-gray-300 rounded p-4 mb-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-blue-800 mb-4 pb-2 border-b border-blue-200",children:"RECOMMANDATIONS"}),(0,t.jsx)("div",{className:"space-y-2",children:c.traitement?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{children:"• Suivi m\xe9dical r\xe9gulier obligatoire"}),(0,t.jsx)("p",{children:"• Respect strict de la posologie prescrite"}),(0,t.jsx)("p",{children:"• Consultation imm\xe9diate en cas d aggravation"}),p&&(0,t.jsx)("p",{className:"font-bold text-red-700",children:"• Surveillance continue n\xe9cessaire"})]}):(0,t.jsx)("p",{className:"italic text-gray-500",children:"Aucune recommandation sp\xe9cifique"})})]}),(0,t.jsx)("footer",{className:"border-t-2 border-blue-800 pt-4 text-sm text-gray-700 print:mt-8",children:(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{children:["\xc9dit\xe9e le: ",new Date().toLocaleDateString("fr-FR")]}),(0,t.jsxs)("p",{children:["Par: Dr ",c.medecin||"M\xe9decin non sp\xe9cifi\xe9"]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"font-bold",children:"Document m\xe9dical confidentiel"}),(0,t.jsx)("p",{children:"Signature et cachet du m\xe9decin:"}),(0,t.jsx)("div",{className:"mt-8 border-t border-gray-400 w-48 ml-auto pt-2",children:(0,t.jsx)("p",{className:"text-center text-xs",children:"Cachet et signature"})})]})]})})]})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[711,441,684,358],()=>r(68845)),_N_E=e.O()}]);