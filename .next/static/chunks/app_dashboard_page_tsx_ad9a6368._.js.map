{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/HP/Documents/Github/Hackathon_GL_2025/app/dashboard/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\n\r\ntype Stats = {\r\n  totalPatients: number;\r\n  averageAge: number;\r\n  diagnoses: { diagnosis: string; _count: { diagnosis: number } }[];\r\n};\r\n\r\nexport default function DashboardPage() {\r\n  const [stats, setStats] = useState<Stats | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetch(\"/api/stats\")\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setStats(data);\r\n        setLoading(false);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Erreur de rÃ©cupÃ©ration des statistiques :\", error);\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center min-h-screen\">\r\n        <p className=\"text-lg font-medium text-gray-500 animate-pulse\">\r\n          Chargement des statistiques...\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <motion.div\r\n      className=\"p-6 max-w-6xl mx-auto\"\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ duration: 0.5 }}\r\n    >\r\n      <h1 className=\"text-3xl md:text-4xl font-bold text-center text-blue-700 mb-10\">\r\n        ðŸ“Š Tableau de bord â€“ Statistiques Globales\r\n      </h1>\r\n\r\n      {/* Statistiques globales */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12\">\r\n        <div className=\"p-6 bg-white rounded-2xl shadow-md flex flex-col items-center justify-center\">\r\n          <h2 className=\"text-sm text-gray-500 mb-2\">Total Patients</h2>\r\n          <p className=\"text-4xl font-bold text-blue-600\">{stats?.totalPatients}</p>\r\n        </div>\r\n\r\n        <div className=\"p-6 bg-white rounded-2xl shadow-md flex flex-col items-center justify-center\">\r\n          <h2 className=\"text-sm text-gray-500 mb-2\">Ã‚ge Moyen</h2>\r\n          <p className=\"text-4xl font-bold text-green-600\">\r\n            {Number.isFinite(stats?.averageAge) ? stats.averageAge.toFixed(1) : \"N/A\"}\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"p-6 bg-white rounded-2xl shadow-md flex flex-col items-center justify-center\">\r\n          <h2 className=\"text-sm text-gray-500 mb-2\">Types de diagnostics</h2>\r\n          <p className=\"text-4xl font-bold text-purple-600\">\r\n            {stats?.diagnoses?.length || 0}\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n                {/* Tableau des diagnostics */}\r\n          <div className=\"bg-white p-6 rounded-2xl shadow-md\">\r\n            <h2 className=\"text-xl md:text-2xl font-semibold text-gray-800 mb-6 flex items-center\">\r\n              ðŸ“‹ RÃ©partition des diagnostics\r\n            </h2>\r\n\r\n            {stats?.diagnoses && stats.diagnoses.length > 0 ? (\r\n              <div className=\"overflow-x-auto\">\r\n                <table className=\"min-w-full border border-gray-200 text-left text-sm sm:text-base\">\r\n                  <thead className=\"bg-gray-100 text-gray-700\">\r\n                    <tr>\r\n                      <th className=\"px-4 py-3 border-b whitespace-nowrap\">Diagnostic</th>\r\n                      <th className=\"px-4 py-3 border-b whitespace-nowrap\">Nombre de cas</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {stats.diagnoses.map((d) => (\r\n                      <tr key={d.diagnosis} className=\"hover:bg-gray-50 transition\">\r\n                        <td className=\"px-4 py-3 border-b text-gray-700\">{d.diagnosis}</td>\r\n                        <td className=\"px-4 py-3 border-b font-semibold text-blue-600\">\r\n                          {d._count.diagnosis}\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            ) : (\r\n              <p className=\"text-gray-500 italic\">Aucun diagnostic trouvÃ©.</p>\r\n            )}\r\n          </div>\r\n\r\n    </motion.div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;;;AAHA;;;AAWe,SAAS;;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAgB;IACjD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;mCAAE;YACR,MAAM,cACH,IAAI;2CAAC,CAAC,MAAQ,IAAI,IAAI;0CACtB,IAAI;2CAAC,CAAC;oBACL,SAAS;oBACT,WAAW;gBACb;0CACC,KAAK;2CAAC,CAAC;oBACN,QAAQ,KAAK,CAAC,6CAA6C;oBAC3D,WAAW;gBACb;;QACJ;kCAAG,EAAE;IAEL,IAAI,SAAS;QACX,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAE,WAAU;0BAAkD;;;;;;;;;;;IAKrE;IAEA,qBACE,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;QACT,WAAU;QACV,SAAS;YAAE,SAAS;YAAG,GAAG;QAAG;QAC7B,SAAS;YAAE,SAAS;YAAG,GAAG;QAAE;QAC5B,YAAY;YAAE,UAAU;QAAI;;0BAE5B,6LAAC;gBAAG,WAAU;0BAAiE;;;;;;0BAK/E,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;0CAA6B;;;;;;0CAC3C,6LAAC;gCAAE,WAAU;0CAAoC,OAAO;;;;;;;;;;;;kCAG1D,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;0CAA6B;;;;;;0CAC3C,6LAAC;gCAAE,WAAU;0CACV,OAAO,QAAQ,CAAC,OAAO,cAAc,MAAM,UAAU,CAAC,OAAO,CAAC,KAAK;;;;;;;;;;;;kCAIxE,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;0CAA6B;;;;;;0CAC3C,6LAAC;gCAAE,WAAU;0CACV,OAAO,WAAW,UAAU;;;;;;;;;;;;;;;;;;0BAM/B,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAAyE;;;;;;oBAItF,OAAO,aAAa,MAAM,SAAS,CAAC,MAAM,GAAG,kBAC5C,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAM,WAAU;;8CACf,6LAAC;oCAAM,WAAU;8CACf,cAAA,6LAAC;;0DACC,6LAAC;gDAAG,WAAU;0DAAuC;;;;;;0DACrD,6LAAC;gDAAG,WAAU;0DAAuC;;;;;;;;;;;;;;;;;8CAGzD,6LAAC;8CACE,MAAM,SAAS,CAAC,GAAG,CAAC,CAAC,kBACpB,6LAAC;4CAAqB,WAAU;;8DAC9B,6LAAC;oDAAG,WAAU;8DAAoC,EAAE,SAAS;;;;;;8DAC7D,6LAAC;oDAAG,WAAU;8DACX,EAAE,MAAM,CAAC,SAAS;;;;;;;2CAHd,EAAE,SAAS;;;;;;;;;;;;;;;;;;;;6CAW5B,6LAAC;wBAAE,WAAU;kCAAuB;;;;;;;;;;;;;;;;;;AAMlD;GA9FwB;KAAA","debugId":null}}]
}