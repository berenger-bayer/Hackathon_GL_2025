{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/macuser/Documents/GitHub/Hackathon_GL_2025/app/dashboard/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\n\ntype Stats = {\n  totalPatients: number;\n  averageAge: number;\n  diagnoses: { diagnosis: string; _count: { diagnosis: number } }[];\n};\n\nexport default function DashboardPage() {\n  const [stats, setStats] = useState<Stats | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetch(\"/api/stats\")\n      .then((res) => res.json())\n      .then((data) => {\n        setStats(data);\n        setLoading(false);\n      })\n      .catch((error) => {\n        console.error(\"Erreur de rÃ©cupÃ©ration des statistiques :\", error);\n        setLoading(false);\n      });\n  }, []);\n\n  if (loading) return <p className=\"text-center mt-10\">Chargement des statistiques...</p>;\n\n  return (\n    <div className=\"p-6 max-w-6xl mx-auto\">\n      <h1 className=\"text-3xl font-bold text-center text-blue-700 mb-8\">\n        ðŸ“Š Tableau de bord â€“ Statistiques Globales\n      </h1>\n\n      {/* Bloc statistiques principales */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-10\">\n        <div className=\"p-6 bg-white rounded-2xl shadow flex flex-col items-center justify-center\">\n          <h2 className=\"text-sm font-semibold text-gray-500\">Total Patients</h2>\n          <p className=\"text-4xl font-bold text-blue-600\">{stats?.totalPatients}</p>\n        </div>\n\n        <div className=\"p-6 bg-white rounded-2xl shadow flex flex-col items-center justify-center\">\n          <h2 className=\"text-sm font-semibold text-gray-500\">Ã‚ge Moyen</h2>\n          <p className=\"text-4xl font-bold text-green-600\">\n            {Number.isFinite(stats?.averageAge) ? stats.averageAge.toFixed(1) : \"N/A\"}\n          </p>\n        </div>\n\n        <div className=\"p-6 bg-white rounded-2xl shadow flex flex-col items-center justify-center\">\n          <h2 className=\"text-sm font-semibold text-gray-500\">Types de diagnostics</h2>\n          <p className=\"text-4xl font-bold text-purple-600\">\n            {stats?.diagnoses?.length || 0}\n          </p>\n        </div>\n      </div>\n\n      {/* Tableau des diagnostics */}\n      <div className=\"bg-white p-6 rounded-2xl shadow\">\n        <h2 className=\"text-xl font-semibold text-gray-800 mb-4\">ðŸ“‹ RÃ©partition des diagnostics</h2>\n        {stats?.diagnoses && stats.diagnoses.length > 0 ? (\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full border border-gray-200 text-left\">\n              <thead className=\"bg-gray-100 text-gray-700\">\n                <tr>\n                  <th className=\"px-4 py-2 border-b\">Diagnostic</th>\n                  <th className=\"px-4 py-2 border-b\">Nombre de cas</th>\n                </tr>\n              </thead>\n              <tbody>\n                {stats.diagnoses.map((d) => (\n                  <tr key={d.diagnosis} className=\"hover:bg-gray-50\">\n                    <td className=\"px-4 py-2 border-b\">{d.diagnosis}</td>\n                    <td className=\"px-4 py-2 border-b font-semibold text-blue-600\">{d._count.diagnosis}</td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        ) : (\n          <p className=\"text-gray-500 italic\">Aucun diagnostic trouvÃ©.</p>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;;;AAFA;;AAUe,SAAS;;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAgB;IACjD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;mCAAE;YACR,MAAM,cACH,IAAI;2CAAC,CAAC,MAAQ,IAAI,IAAI;0CACtB,IAAI;2CAAC,CAAC;oBACL,SAAS;oBACT,WAAW;gBACb;0CACC,KAAK;2CAAC,CAAC;oBACN,QAAQ,KAAK,CAAC,6CAA6C;oBAC3D,WAAW;gBACb;;QACJ;kCAAG,EAAE;IAEL,IAAI,SAAS,qBAAO,6LAAC;QAAE,WAAU;kBAAoB;;;;;;IAErD,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAAoD;;;;;;0BAKlE,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;0CAAsC;;;;;;0CACpD,6LAAC;gCAAE,WAAU;0CAAoC,OAAO;;;;;;;;;;;;kCAG1D,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;0CAAsC;;;;;;0CACpD,6LAAC;gCAAE,WAAU;0CACV,OAAO,QAAQ,CAAC,OAAO,cAAc,MAAM,UAAU,CAAC,OAAO,CAAC,KAAK;;;;;;;;;;;;kCAIxE,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;0CAAsC;;;;;;0CACpD,6LAAC;gCAAE,WAAU;0CACV,OAAO,WAAW,UAAU;;;;;;;;;;;;;;;;;;0BAMnC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAA2C;;;;;;oBACxD,OAAO,aAAa,MAAM,SAAS,CAAC,MAAM,GAAG,kBAC5C,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAM,WAAU;;8CACf,6LAAC;oCAAM,WAAU;8CACf,cAAA,6LAAC;;0DACC,6LAAC;gDAAG,WAAU;0DAAqB;;;;;;0DACnC,6LAAC;gDAAG,WAAU;0DAAqB;;;;;;;;;;;;;;;;;8CAGvC,6LAAC;8CACE,MAAM,SAAS,CAAC,GAAG,CAAC,CAAC,kBACpB,6LAAC;4CAAqB,WAAU;;8DAC9B,6LAAC;oDAAG,WAAU;8DAAsB,EAAE,SAAS;;;;;;8DAC/C,6LAAC;oDAAG,WAAU;8DAAkD,EAAE,MAAM,CAAC,SAAS;;;;;;;2CAF3E,EAAE,SAAS;;;;;;;;;;;;;;;;;;;;6CAS5B,6LAAC;wBAAE,WAAU;kCAAuB;;;;;;;;;;;;;;;;;;AAK9C;GA3EwB;KAAA","debugId":null}}]
}