(()=>{var e={};e.id=52,e.ids=[52],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1096:(e,t,s)=>{Promise.resolve().then(s.bind(s,5543))},2604:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>N});var r=s(687),n=s(3210),i=s(6189),l=s(2157),a=s(2789),o=s(2743),d=s(1279),m=s(2582);class c extends n.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,s=e instanceof HTMLElement&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=s-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function u({children:e,isPresent:t,anchorX:s}){let i=(0,n.useId)(),l=(0,n.useRef)(null),a=(0,n.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=(0,n.useContext)(m.Q);return(0,n.useInsertionEffect)(()=>{let{width:e,height:r,top:n,left:d,right:m}=a.current;if(t||!l.current||!e||!r)return;let c="left"===s?`left: ${d}`:`right: ${m}`;l.current.dataset.motionPopId=i;let u=document.createElement("style");return o&&(u.nonce=o),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${r}px !important;
            ${c}px !important;
            top: ${n}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),(0,r.jsx)(c,{isPresent:t,childRef:l,sizeRef:a,children:n.cloneElement(e,{ref:l})})}let p=({children:e,initial:t,isPresent:s,onExitComplete:i,custom:l,presenceAffectsLayout:o,mode:m,anchorX:c})=>{let p=(0,a.M)(x),h=(0,n.useId)(),g=(0,n.useCallback)(e=>{for(let t of(p.set(e,!0),p.values()))if(!t)return;i&&i()},[p,i]),b=(0,n.useMemo)(()=>({id:h,initial:t,isPresent:s,custom:l,onExitComplete:g,register:e=>(p.set(e,!1),()=>p.delete(e))}),o?[Math.random(),g]:[s,g]);return(0,n.useMemo)(()=>{p.forEach((e,t)=>p.set(t,!1))},[s]),n.useEffect(()=>{s||p.size||!i||i()},[s]),"popLayout"===m&&(e=(0,r.jsx)(u,{isPresent:s,anchorX:c,children:e})),(0,r.jsx)(d.t.Provider,{value:b,children:e})};function x(){return new Map}var h=s(6044);let g=e=>e.key||"";function b(e){let t=[];return n.Children.forEach(e,e=>{(0,n.isValidElement)(e)&&t.push(e)}),t}let f=({children:e,custom:t,initial:s=!0,onExitComplete:i,presenceAffectsLayout:d=!0,mode:m="sync",propagate:c=!1,anchorX:u="left"})=>{let[x,f]=(0,h.xQ)(c),j=(0,n.useMemo)(()=>b(e),[e]),v=c&&!x?[]:j.map(g),N=(0,n.useRef)(!0),y=(0,n.useRef)(j),P=(0,a.M)(()=>new Map),[w,k]=(0,n.useState)(j),[C,S]=(0,n.useState)(j);(0,o.E)(()=>{N.current=!1,y.current=j;for(let e=0;e<C.length;e++){let t=g(C[e]);v.includes(t)?P.delete(t):!0!==P.get(t)&&P.set(t,!1)}},[C,v.length,v.join("-")]);let _=[];if(j!==w){let e=[...j];for(let t=0;t<C.length;t++){let s=C[t],r=g(s);v.includes(r)||(e.splice(t,0,s),_.push(s))}return"wait"===m&&_.length&&(e=_),S(b(e)),k(j),null}let{forceRender:E}=(0,n.useContext)(l.L);return(0,r.jsx)(r.Fragment,{children:C.map(e=>{let n=g(e),l=(!c||!!x)&&(j===C||v.includes(n));return(0,r.jsx)(p,{isPresent:l,initial:(!N.current||!!s)&&void 0,custom:t,presenceAffectsLayout:d,mode:m,onExitComplete:l?void 0:()=>{if(!P.has(n))return;P.set(n,!0);let e=!0;P.forEach(t=>{t||(e=!1)}),e&&(E?.(),S(y.current),c&&f?.(),i&&i())},anchorX:u,children:e},n)})})};var j=s(1729),v=s(9587);function N(){let[e,t]=(0,n.useState)({name:"",age:"",sexe:"",diagnosis:"",poids:"",taille:"",traitement:"",numSecu:"",medecin:"",rendezvous:"",groupeSanguin:"",allergies:"",notes:""}),[s,l]=(0,n.useState)({}),[a,o]=(0,n.useState)(!1),[d,m]=(0,n.useState)(!1),c=(0,i.useRouter)(),u=()=>{let t={};return e.name.trim()?e.name.trim().length<2&&(t.name="Le nom doit contenir au moins 2 caract\xe8res"):t.name="Le nom est requis",e.age?isNaN(Number(e.age))?t.age="L'\xe2ge doit \xeatre un nombre":(0>Number(e.age)||Number(e.age)>120)&&(t.age="L'\xe2ge doit \xeatre entre 0 et 120 ans"):t.age="L'\xe2ge est requis",e.diagnosis.trim()||(t.diagnosis="Le diagnostic est requis"),e.poids&&isNaN(Number(e.poids))&&(t.poids="Le poids doit \xeatre un nombre"),e.taille&&isNaN(Number(e.taille))&&(t.taille="La taille doit \xeatre un nombre"),l(t),0===Object.keys(t).length},p=async t=>{if(t.preventDefault(),u()){o(!0);try{let t=await fetch("/api/patients",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.name.trim(),age:Number(e.age),sexe:e.sexe||null,diagnosis:e.diagnosis.trim(),poids:e.poids?Number(e.poids):null,taille:e.taille?Number(e.taille):null,traitement:e.traitement||null,numSecu:e.numSecu||null,medecin:e.medecin||null,rendezvous:e.rendezvous||null,groupeSanguin:e.groupeSanguin||null,allergies:e.allergies||null,notes:e.notes||null})});if(!t.ok){let e=await t.json();throw Error(e.error||"Erreur lors de l'ajout")}m(!0),setTimeout(()=>c.push("/patients"),2e3)}catch(e){l({submit:e instanceof Error?e.message:"Erreur inconnue"})}finally{o(!1)}}},x=e=>{let{id:r,value:n}=e.target;t(e=>({...e,[r]:n})),s[r]&&l(e=>({...e,[r]:void 0}))},h=e.poids&&e.taille?(Number(e.poids)/Math.pow(Number(e.taille),2)).toFixed(1):null;return(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 py-10 px-4 text-black",children:[(0,r.jsxs)(f,{children:[d&&(0,r.jsx)(j.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"fixed top-6 left-1/2 transform -translate-x-1/2 z-50",children:(0,r.jsxs)("div",{className:"bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg flex items-center gap-2",children:[(0,r.jsx)(v.A7C,{}),(0,r.jsx)("span",{children:"Patient ajout\xe9 avec succ\xe8s!"})]})}),s.submit&&(0,r.jsx)(j.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"fixed top-6 left-1/2 transform -translate-x-1/2 z-50",children:(0,r.jsxs)("div",{className:"bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg flex items-center gap-2",children:[(0,r.jsx)(v.BS8,{}),(0,r.jsx)("span",{children:s.submit})]})})]}),(0,r.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,r.jsxs)("button",{onClick:()=>c.back(),className:"mb-6 flex items-center text-blue-600 hover:text-blue-800 transition",children:[(0,r.jsx)(v.QVr,{className:"mr-2"}),"Retour"]}),(0,r.jsxs)(j.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[(0,r.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 p-6 text-white",children:(0,r.jsxs)("h1",{className:"text-2xl font-bold flex items-center gap-3",children:[(0,r.jsx)(v.NPy,{}),"Nouveau Patient"]})}),(0,r.jsxs)("form",{onSubmit:p,className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"bg-blue-50 p-5 rounded-lg",children:[(0,r.jsxs)("h2",{className:"font-semibold text-blue-700 flex items-center gap-2 mb-4",children:[(0,r.jsx)(v.x$1,{}),"Informations personnelles"]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Nom complet ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{id:"name",type:"text",value:e.name,onChange:x,className:`w-full p-3 border rounded-lg ${s.name?"border-red-500":"border-gray-300"}`}),s.name&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:s.name})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"age",className:"block text-sm font-medium text-gray-700 mb-1",children:["\xc2ge ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{id:"age",type:"number",min:"0",max:"120",value:e.age,onChange:x,className:`w-full p-3 border rounded-lg ${s.age?"border-red-500":"border-gray-300"}`}),s.age&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:s.age})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"sexe",className:"block text-sm font-medium text-gray-700 mb-1",children:"Sexe"}),(0,r.jsxs)("select",{id:"sexe",value:e.sexe,onChange:x,className:"w-full p-3 border border-gray-300 rounded-lg",children:[(0,r.jsx)("option",{value:"",children:"S\xe9lectionner..."}),(0,r.jsx)("option",{value:"M",children:"Masculin"}),(0,r.jsx)("option",{value:"F",children:"F\xe9minin"}),(0,r.jsx)("option",{value:"Autre",children:"Autre"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"numSecu",className:"block text-sm font-medium text-gray-700 mb-1",children:"N\xb0 S\xe9curit\xe9 Sociale"}),(0,r.jsx)("input",{id:"numSecu",type:"text",value:e.numSecu,onChange:x,className:"w-full p-3 border border-gray-300 rounded-lg"})]})]})]}),(0,r.jsxs)("div",{className:"bg-blue-50 p-5 rounded-lg",children:[(0,r.jsxs)("h2",{className:"font-semibold text-blue-700 flex items-center gap-2 mb-4",children:[(0,r.jsx)(v.szJ,{}),"Sant\xe9"]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"groupeSanguin",className:"block text-sm font-medium text-gray-700 mb-1",children:"Groupe sanguin"}),(0,r.jsxs)("select",{id:"groupeSanguin",value:e.groupeSanguin,onChange:x,className:"w-full p-3 border border-gray-300 rounded-lg",children:[(0,r.jsx)("option",{value:"",children:"S\xe9lectionner..."}),(0,r.jsx)("option",{value:"A+",children:"A+"}),(0,r.jsx)("option",{value:"A-",children:"A-"}),(0,r.jsx)("option",{value:"B+",children:"B+"}),(0,r.jsx)("option",{value:"B-",children:"B-"}),(0,r.jsx)("option",{value:"AB+",children:"AB+"}),(0,r.jsx)("option",{value:"AB-",children:"AB-"}),(0,r.jsx)("option",{value:"O+",children:"O+"}),(0,r.jsx)("option",{value:"O-",children:"O-"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"allergies",className:"block text-sm font-medium text-gray-700 mb-1",children:"Allergies"}),(0,r.jsx)("input",{id:"allergies",type:"text",value:e.allergies,onChange:x,className:"w-full p-3 border border-gray-300 rounded-lg"})]})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"bg-indigo-50 p-5 rounded-lg",children:[(0,r.jsxs)("h2",{className:"font-semibold text-indigo-700 flex items-center gap-2 mb-4",children:[(0,r.jsx)(v.Ax7,{}),"Informations m\xe9dicales"]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"diagnosis",className:"block text-sm font-medium text-gray-700 mb-1",children:["Diagnostic ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{id:"diagnosis",type:"text",value:e.diagnosis,onChange:x,className:`w-full p-3 border rounded-lg ${s.diagnosis?"border-red-500":"border-gray-300"}`}),s.diagnosis&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:s.diagnosis})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"traitement",className:"block text-sm font-medium text-gray-700 mb-1",children:"Traitement"}),(0,r.jsx)("textarea",{id:"traitement",rows:3,value:e.traitement,onChange:x,className:"w-full p-3 border border-gray-300 rounded-lg"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"medecin",className:"block text-sm font-medium text-gray-700 mb-1",children:"M\xe9decin traitant"}),(0,r.jsx)("input",{id:"medecin",type:"text",value:e.medecin,onChange:x,className:"w-full p-3 border border-gray-300 rounded-lg"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"rendezvous",className:"block text-sm font-medium text-gray-700 mb-1",children:"Rendez-vous"}),(0,r.jsx)("input",{id:"rendezvous",type:"datetime-local",value:e.rendezvous,onChange:x,className:"w-full p-3 border border-gray-300 rounded-lg"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),(0,r.jsx)("textarea",{id:"notes",rows:3,value:e.notes,onChange:x,className:"w-full p-3 border border-gray-300 rounded-lg"})]})]})]}),(0,r.jsxs)("div",{className:"bg-indigo-50 p-5 rounded-lg",children:[(0,r.jsxs)("h2",{className:"font-semibold text-indigo-700 flex items-center gap-2 mb-4",children:[(0,r.jsx)(v.egb,{}),"Mesures"]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"poids",className:"block text-sm font-medium text-gray-700 mb-1",children:"Poids (kg)"}),(0,r.jsx)("input",{id:"poids",type:"number",step:"0.1",value:e.poids,onChange:x,className:`w-full p-3 border rounded-lg ${s.poids?"border-red-500":"border-gray-300"}`}),s.poids&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:s.poids})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"taille",className:"block text-sm font-medium text-gray-700 mb-1",children:"Taille (m)"}),(0,r.jsx)("input",{id:"taille",type:"number",step:"0.01",value:e.taille,onChange:x,className:`w-full p-3 border rounded-lg ${s.taille?"border-red-500":"border-gray-300"}`}),s.taille&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:s.taille})]})]}),h&&(0,r.jsxs)("div",{className:"mt-4 p-3 bg-white rounded-lg border border-indigo-100",children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"IMC calcul\xe9"}),(0,r.jsxs)("p",{className:"text-xl font-bold",children:[h," kg/m\xb2"]})]})]}),(0,r.jsx)("button",{type:"submit",disabled:a,className:`w-full py-3 px-6 rounded-lg text-white font-medium mt-4 transition ${a?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700"}`,children:a?"Enregistrement...":"Enregistrer le patient"})]})]})]})]})]})}},2704:()=>{},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},5016:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6444,23)),Promise.resolve().then(s.t.bind(s,6042,23)),Promise.resolve().then(s.t.bind(s,8170,23)),Promise.resolve().then(s.t.bind(s,9477,23)),Promise.resolve().then(s.t.bind(s,9345,23)),Promise.resolve().then(s.t.bind(s,2089,23)),Promise.resolve().then(s.t.bind(s,6577,23)),Promise.resolve().then(s.t.bind(s,1307,23))},5543:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/macuser/Documents/GitHub/Hackathon_GL_2025/app/patients/ajouter/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/macuser/Documents/GitHub/Hackathon_GL_2025/app/patients/ajouter/page.tsx","default")},5657:()=>{},6281:()=>{},8014:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d,metadata:()=>o});var r=s(7413);s(2704);var n=s(6389),i=s.n(n),l=s(1189),a=s.n(l);let o={title:"AI4CKD",description:"Suivi intelligent des patients atteints de MRC"};function d({children:e}){return(0,r.jsx)("html",{lang:"fr",children:(0,r.jsx)("body",{className:`${i().variable} ${a().variable} antialiased`,children:(0,r.jsx)("main",{children:e})})})}},8443:(e,t,s)=>{Promise.resolve().then(s.bind(s,2604))},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9336:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6346,23)),Promise.resolve().then(s.t.bind(s,7924,23)),Promise.resolve().then(s.t.bind(s,5656,23)),Promise.resolve().then(s.t.bind(s,99,23)),Promise.resolve().then(s.t.bind(s,8243,23)),Promise.resolve().then(s.t.bind(s,8827,23)),Promise.resolve().then(s.t.bind(s,2763,23)),Promise.resolve().then(s.t.bind(s,7173,23))},9663:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>c,pages:()=>m,routeModule:()=>u,tree:()=>d});var r=s(5239),n=s(8088),i=s(8170),l=s.n(i),a=s(893),o={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>a[e]);s.d(t,o);let d={children:["",{children:["patients",{children:["ajouter",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5543)),"/Users/macuser/Documents/GitHub/Hackathon_GL_2025/app/patients/ajouter/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,8014)),"/Users/macuser/Documents/GitHub/Hackathon_GL_2025/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,5284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,m=["/Users/macuser/Documents/GitHub/Hackathon_GL_2025/app/patients/ajouter/page.tsx"],c={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/patients/ajouter/page",pathname:"/patients/ajouter",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[447,985,911,729],()=>s(9663));module.exports=r})();