(()=>{var e={};e.id=773,e.ids=[773],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2704:()=>{},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3790:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});var r=t(687);t(3210);var i=t(6189);function n({children:e}){return(0,i.useRouter)(),(0,r.jsx)(r.Fragment,{children:e})}},3873:e=>{"use strict";e.exports=require("path")},4827:(e,s,t)=>{Promise.resolve().then(t.bind(t,6242))},5016:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,6444,23)),Promise.resolve().then(t.t.bind(t,6042,23)),Promise.resolve().then(t.t.bind(t,8170,23)),Promise.resolve().then(t.t.bind(t,9477,23)),Promise.resolve().then(t.t.bind(t,9345,23)),Promise.resolve().then(t.t.bind(t,2089,23)),Promise.resolve().then(t.t.bind(t,6577,23)),Promise.resolve().then(t.t.bind(t,1307,23))},5657:()=>{},5913:(e,s,t)=>{"use strict";t(6397);var r=t(3210),i=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(r),n="undefined"!=typeof process&&process.env&&!0,a=function(e){return"[object String]"===Object.prototype.toString.call(e)},o=function(){function e(e){var s=void 0===e?{}:e,t=s.name,r=void 0===t?"stylesheet":t,i=s.optimizeForSpeed,o=void 0===i?n:i;l(a(r),"`name` must be a string"),this._name=r,this._deletedRulePlaceholder="#"+r+"-deleted-rule____{}",l("boolean"==typeof o,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=o,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0,this._nonce=null}var s,t=e.prototype;return t.setOptimizeForSpeed=function(e){l("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),l(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},t.isOptimizeForSpeed=function(){return this._optimizeForSpeed},t.inject=function(){var e=this;l(!this._injected,"sheet already injected"),this._injected=!0,this._serverSheet={cssRules:[],insertRule:function(s,t){return"number"==typeof t?e._serverSheet.cssRules[t]={cssText:s}:e._serverSheet.cssRules.push({cssText:s}),t},deleteRule:function(s){e._serverSheet.cssRules[s]=null}}},t.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var s=0;s<document.styleSheets.length;s++)if(document.styleSheets[s].ownerNode===e)return document.styleSheets[s]},t.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},t.insertRule=function(e,s){return l(a(e),"`insertRule` accepts only strings"),"number"!=typeof s&&(s=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,s),this._rulesCount++},t.replaceRule=function(e,s){this._optimizeForSpeed;var t=this._serverSheet;if(s.trim()||(s=this._deletedRulePlaceholder),!t.cssRules[e])return e;t.deleteRule(e);try{t.insertRule(s,e)}catch(r){n||console.warn("StyleSheet: illegal rule: \n\n"+s+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),t.insertRule(this._deletedRulePlaceholder,e)}return e},t.deleteRule=function(e){this._serverSheet.deleteRule(e)},t.flush=function(){this._injected=!1,this._rulesCount=0,this._serverSheet.cssRules=[]},t.cssRules=function(){return this._serverSheet.cssRules},t.makeStyleTag=function(e,s,t){s&&l(a(s),"makeStyleTag accepts only strings as second parameter");var r=document.createElement("style");this._nonce&&r.setAttribute("nonce",this._nonce),r.type="text/css",r.setAttribute("data-"+e,""),s&&r.appendChild(document.createTextNode(s));var i=document.head||document.getElementsByTagName("head")[0];return t?i.insertBefore(r,t):i.appendChild(r),r},s=[{key:"length",get:function(){return this._rulesCount}}],function(e,s){for(var t=0;t<s.length;t++){var r=s[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,s),e}();function l(e,s){if(!e)throw Error("StyleSheet: "+s+".")}var d=function(e){for(var s=5381,t=e.length;t;)s=33*s^e.charCodeAt(--t);return s>>>0},c={};function u(e,s){if(!s)return"jsx-"+e;var t=String(s),r=e+t;return c[r]||(c[r]="jsx-"+d(e+"-"+t)),c[r]}function m(e,s){var t=e+(s=s.replace(/\/style/gi,"\\/style"));return c[t]||(c[t]=s.replace(/__jsx-style-dynamic-selector/g,e)),c[t]}var h=function(){function e(e){var s=void 0===e?{}:e,t=s.styleSheet,r=void 0===t?null:t,i=s.optimizeForSpeed,n=void 0!==i&&i;this._sheet=r||new o({name:"styled-jsx",optimizeForSpeed:n}),this._sheet.inject(),r&&"boolean"==typeof n&&(this._sheet.setOptimizeForSpeed(n),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var s=e.prototype;return s.add=function(e){var s=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed());var t=this.getIdAndRules(e),r=t.styleId,i=t.rules;if(r in this._instancesCounts){this._instancesCounts[r]+=1;return}var n=i.map(function(e){return s._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[r]=n,this._instancesCounts[r]=1},s.remove=function(e){var s=this,t=this.getIdAndRules(e).styleId;if(function(e,s){if(!e)throw Error("StyleSheetRegistry: "+s+".")}(t in this._instancesCounts,"styleId: `"+t+"` not found"),this._instancesCounts[t]-=1,this._instancesCounts[t]<1){var r=this._fromServer&&this._fromServer[t];r?(r.parentNode.removeChild(r),delete this._fromServer[t]):(this._indices[t].forEach(function(e){return s._sheet.deleteRule(e)}),delete this._indices[t]),delete this._instancesCounts[t]}},s.update=function(e,s){this.add(s),this.remove(e)},s.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},s.cssRules=function(){var e=this,s=this._fromServer?Object.keys(this._fromServer).map(function(s){return[s,e._fromServer[s]]}):[],t=this._sheet.cssRules();return s.concat(Object.keys(this._indices).map(function(s){return[s,e._indices[s].map(function(e){return t[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},s.styles=function(e){var s,t;return s=this.cssRules(),void 0===(t=e)&&(t={}),s.map(function(e){var s=e[0],r=e[1];return i.default.createElement("style",{id:"__"+s,key:"__"+s,nonce:t.nonce?t.nonce:void 0,dangerouslySetInnerHTML:{__html:r}})})},s.getIdAndRules=function(e){var s=e.children,t=e.dynamic,r=e.id;if(t){var i=u(r,t);return{styleId:i,rules:Array.isArray(s)?s.map(function(e){return m(i,e)}):[m(i,s)]}}return{styleId:u(r),rules:Array.isArray(s)?s:[s]}},s.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,s){return e[s.id.slice(2)]=s,e},{})},e}(),x=r.createContext(null);x.displayName="StyleSheetContext";i.default.useInsertionEffect||i.default.useLayoutEffect;var p=void 0;function j(e){var s=p||r.useContext(x);return s&&s.add(e),null}j.dynamic=function(e){return e.map(function(e){return u(e[0],e[1])}).join(" ")},s.style=j},6180:(e,s,t)=>{"use strict";e.exports=t(5913).style},6242:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/macuser/Documents/GitHub/Hackathon_GL_2025/app/patients/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/macuser/Documents/GitHub/Hackathon_GL_2025/app/patients/page.tsx","default")},6281:()=>{},6397:()=>{},7305:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});var r=t(687),i=t(5814),n=t.n(i),a=t(474),o=t(3210);function l(){let[e,s]=(0,o.useState)(!1),t=()=>{localStorage.removeItem("isLoggedIn"),document.cookie="isLoggedIn=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",window.location.href="/login"};return(0,r.jsxs)("nav",{className:"bg-white shadow-md sticky top-0 z-50 print:hidden",children:[(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between h-16 items-center",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsxs)(n(),{href:"/",className:"flex items-center",children:[(0,r.jsx)("span",{className:"text-blue-600 text-xl font-bold",children:"AI4CKD"}),(0,r.jsx)(a.default,{src:"/logo-maladie-renale.svg",alt:"Logo AI4CKD pour la gestion des maladies r\xe9nales chroniques",width:52,height:32,className:"ml-2",priority:!0})]})}),(0,r.jsx)("div",{className:"flex md:hidden items-center",children:(0,r.jsx)("button",{onClick:()=>s(!e),className:"text-gray-700 hover:text-blue-600 focus:outline-none","aria-label":"Ouvrir le menu de navigation",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:e?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})}),(0,r.jsxs)("div",{className:"hidden md:flex items-center space-x-1 lg:space-x-4",children:[(0,r.jsx)(n(),{href:"/patients",className:"px-2 py-2 text-sm lg:text-base text-gray-700 hover:text-blue-600 transition whitespace-nowrap",children:"Patients"}),(0,r.jsx)(n(),{href:"/dashboard",className:"px-2 py-2 text-sm lg:text-base text-gray-700 hover:text-blue-600 transition whitespace-nowrap",children:"Tableau de bord"}),(0,r.jsx)(n(),{href:"/about",className:"px-2 py-2 text-sm lg:text-base text-gray-700 hover:text-blue-600 transition whitespace-nowrap",children:"\xc0 propos"}),(0,r.jsxs)("button",{onClick:t,className:"ml-2 px-3 py-2 text-sm lg:text-base bg-red-500 text-white rounded-md hover:bg-red-600 transition whitespace-nowrap flex items-center","aria-label":"Se d\xe9connecter de l'application",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"D\xe9connexion"]})]})]})}),e&&(0,r.jsx)("div",{className:"md:hidden bg-white shadow-lg",children:(0,r.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[(0,r.jsx)(n(),{href:"/patients",className:"block px-3 py-2 text-gray-700 hover:text-blue-600 hover:bg-blue-50 rounded-md transition",onClick:()=>s(!1),children:"Patients"}),(0,r.jsx)(n(),{href:"/dashboard",className:"block px-3 py-2 text-gray-700 hover:text-blue-600 hover:bg-blue-50 rounded-md transition",onClick:()=>s(!1),children:"Tableau de bord"}),(0,r.jsx)(n(),{href:"/about",className:"block px-3 py-2 text-gray-700 hover:text-blue-600 hover:bg-blue-50 rounded-md transition",onClick:()=>s(!1),children:"\xc0 propos"}),(0,r.jsxs)("button",{onClick:t,className:"block w-full text-left px-3 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 transition flex items-center","aria-label":"Se d\xe9connecter de l'application",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"D\xe9connexion"]})]})})]})}},7795:(e,s,t)=>{Promise.resolve().then(t.bind(t,9840))},8014:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d,metadata:()=>l});var r=t(7413);t(2704);var i=t(6389),n=t.n(i),a=t(1189),o=t.n(a);let l={title:"AI4CKD",description:"Suivi intelligent des patients atteints de MRC"};function d({children:e}){return(0,r.jsx)("html",{lang:"fr",children:(0,r.jsx)("body",{className:`${n().variable} ${o().variable} antialiased`,children:(0,r.jsx)("main",{children:e})})})}},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9143:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>a.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var r=t(5239),i=t(8088),n=t(8170),a=t.n(n),o=t(893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(s,l);let d={children:["",{children:["patients",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,6242)),"/Users/macuser/Documents/GitHub/Hackathon_GL_2025/app/patients/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,8014)),"/Users/macuser/Documents/GitHub/Hackathon_GL_2025/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,5284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/Users/macuser/Documents/GitHub/Hackathon_GL_2025/app/patients/page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/patients/page",pathname:"/patients",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9336:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,6346,23)),Promise.resolve().then(t.t.bind(t,7924,23)),Promise.resolve().then(t.t.bind(t,5656,23)),Promise.resolve().then(t.t.bind(t,99,23)),Promise.resolve().then(t.t.bind(t,8243,23)),Promise.resolve().then(t.t.bind(t,8827,23)),Promise.resolve().then(t.t.bind(t,2763,23)),Promise.resolve().then(t.t.bind(t,7173,23))},9840:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>R});var r=t(687),i=t(6180),n=t.n(i),a=t(3210),o=t(1729),l=t(6189),d=t(9587);let c=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),u=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,t)=>t?t.toUpperCase():s.toLowerCase()),m=e=>{let s=u(e);return s.charAt(0).toUpperCase()+s.slice(1)},h=(...e)=>e.filter((e,s,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim();var x={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let p=(0,a.forwardRef)(({color:e="currentColor",size:s=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:n,iconNode:o,...l},d)=>(0,a.createElement)("svg",{ref:d,...x,width:s,height:s,stroke:e,strokeWidth:r?24*Number(t)/Number(s):t,className:h("lucide",i),...l},[...o.map(([e,s])=>(0,a.createElement)(e,s)),...Array.isArray(n)?n:[n]])),j=(e,s)=>{let t=(0,a.forwardRef)(({className:t,...r},i)=>(0,a.createElement)(p,{ref:i,iconNode:s,className:h(`lucide-${c(m(e))}`,`lucide-${e}`,t),...r}));return t.displayName=m(e),t},v=j("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),g=j("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),f=j("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),b=j("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),y=j("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),N=j("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),w={success:(0,r.jsx)(v,{className:"w-5 h-5"}),error:(0,r.jsx)(g,{className:"w-5 h-5"}),warning:(0,r.jsx)(f,{className:"w-5 h-5"}),info:(0,r.jsx)(b,{className:"w-5 h-5"}),appointment:(0,r.jsx)(y,{className:"w-5 h-5"})},_={success:"bg-emerald-100 border-emerald-400 text-emerald-700",error:"bg-red-100 border-red-400 text-red-700",warning:"bg-amber-100 border-amber-400 text-amber-700",info:"bg-blue-100 border-blue-400 text-blue-700",appointment:"bg-indigo-100 border-indigo-400 text-indigo-700"};function S({message:e,type:s="info",duration:t=5e3,onClose:i,details:n,action:o}){let[l,d]=(0,a.useState)(!1),[c,u]=(0,a.useState)(!1),m=()=>{u(!c)};return(0,r.jsx)("div",{className:`fixed top-0 left-1/2 transform -translate-x-1/2 w-full max-w-md mx-auto mt-4 z-50 transition-all duration-300 ${l?"translate-y-0 opacity-100":"-translate-y-10 opacity-0"}`,children:(0,r.jsxs)("div",{className:`border-l-4 rounded-lg shadow-lg p-4 flex flex-col ${_[s]}`,role:"alert",children:[(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)("div",{className:"flex-shrink-0 pt-0.5",children:w[s]}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"font-medium",children:{success:"Succ\xe8s",error:"Erreur",warning:"Avertissement",info:"Information",appointment:"Rendez-vous"}[s]}),(0,r.jsx)("p",{className:"text-sm mt-1",children:e}),n&&!c&&(0,r.jsx)("button",{onClick:m,className:"text-sm underline mt-1 hover:font-medium",children:"Voir plus"})]}),(0,r.jsx)("button",{onClick:()=>{d(!1),setTimeout(()=>{i()},300)},className:"text-gray-500 hover:text-gray-700 transition-colors","aria-label":"Fermer la notification",children:(0,r.jsx)(N,{className:"w-4 h-4"})})]}),c&&n&&(0,r.jsxs)("div",{className:"mt-3 ml-8 text-sm border-t pt-2 border-opacity-20 border-gray-500",children:[(0,r.jsx)("p",{children:n}),(0,r.jsx)("button",{onClick:m,className:"text-xs underline mt-1 hover:font-medium",children:"Voir moins"})]}),o&&(0,r.jsx)("div",{className:"mt-3 ml-8",children:(0,r.jsx)("button",{onClick:o.onClick,className:"px-3 py-1 text-sm bg-white rounded-md shadow-sm hover:shadow-md transition-shadow",children:o.label})})]})})}var k=t(7305),C=t(3790);function R(){let[e,s]=(0,a.useState)([]),[t,i]=(0,a.useState)(""),[c,u]=(0,a.useState)("name"),[m,h]=(0,a.useState)(!0),[x,p]=(0,a.useState)(""),[j,v]=(0,a.useState)("info"),[g,f]=(0,a.useState)(void 0),[b,y]=(0,a.useState)(void 0),[N,w]=(0,a.useState)(void 0),[_,R]=(0,a.useState)(void 0),[P,z]=(0,a.useState)(void 0),[A,F]=(0,a.useState)(void 0),[D,L]=(0,a.useState)(null),M=(0,l.useRouter)(),$=()=>{fetch("/api/patients").then(async e=>{if(!e.ok)throw Error(`Erreur API: ${e.status}`);let t=await e.json();s(t);let r=t.filter(e=>e.diagnosis?.toLowerCase().includes("critique")),i=new Date,n=new Date;n.setDate(i.getDate()+3);let a=t.filter(e=>{if(!e.rendezvous)return!1;let s=new Date(e.rendezvous);return s>=i&&s<=n});if(r.length>0)p(`${r.length} patient(s) en \xe9tat critique`),v("warning"),f(r.map(e=>`• ${e.name} - ${e.diagnosis}`).join("\n")),y(void 0),R(void 0),z(void 0),F(void 0),w({label:"Voir d\xe9tails",onClick:()=>{let e=r[0].id;M.push(`/patients/dossier/${e}`)}});else if(a.length>0)if(1===a.length){let e=a[0],s=new Date(e.rendezvous||""),t=e.diagnosis?.toLowerCase().includes("urgent")||!1,r=s.toDateString()===i.toDateString();p(t?"Rendez-vous m\xe9dical urgent":r?"Rendez-vous m\xe9dical aujourd'hui":"Rendez-vous m\xe9dical \xe0 venir"),v("appointment"),y({patientName:e.name,patientId:e.id,date:s.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),time:s.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}),duration:"1 heure",doctorName:e.medecin||"Non assign\xe9",reason:e.diagnosis||"Consultation g\xe9n\xe9rale",instructions:e.notes||void 0,contactPhone:"01 23 45 67 89",isUrgent:t,insuranceRequired:!0,documents:e.allergies?["Carte Vitale","Pi\xe8ce d'identit\xe9","Carnet de sant\xe9","Liste des allergies"]:["Carte Vitale","Pi\xe8ce d'identit\xe9","Carnet de sant\xe9"],location:"Cabinet m\xe9dical principal",address:"123 Avenue de la M\xe9decine, 75001 Paris"}),R(()=>{console.log(`Rendez-vous confirm\xe9 pour ${e.name}`)}),z(()=>{console.log(`Rendez-vous annul\xe9 pour ${e.name}`)}),F(()=>{M.push(`/patients/rendez-vous/${e.id}/reprogrammer`)}),w({label:"Voir le dossier",onClick:()=>{M.push(`/patients/dossier/${e.id}`)}})}else p(`${a.length} rendez-vous \xe0 venir dans les 3 prochains jours`),v("info"),f(a.map(e=>{let s=new Date(e.rendezvous||"");return`• ${e.name} - ${s.toLocaleDateString("fr-FR",{weekday:"long"})} ${s.toLocaleDateString("fr-FR")} \xe0 ${s.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})}`}).join("\n")),y(void 0),R(void 0),z(void 0),F(void 0),w({label:"Voir tous les RDV",onClick:()=>{M.push("/rendez-vous")}});else p(""),f(void 0),y(void 0),w(void 0),R(void 0),z(void 0),F(void 0)}).catch(e=>{console.error("Erreur chargement patients:",e),s([]),p("Erreur lors du chargement des patients"),v("error"),y(void 0),R(void 0),z(void 0),F(void 0)})},E=async e=>{if(confirm("\xcates-vous s\xfbr de vouloir supprimer ce patient ?"))try{let s=await fetch(`/api/patients/${e}`,{method:"DELETE"});if(!s.ok)throw Error(`Erreur suppression patient: ${s.status}`);$(),p("Patient supprim\xe9 avec succ\xe8s"),v("success"),f(void 0),y(void 0),w(void 0),R(void 0),z(void 0),F(void 0)}catch(e){console.error("Erreur suppression patient:",e),p("Erreur lors de la suppression"),v("error")}},I=e=>{L(D===e?null:e)},T=[...e].filter(e=>{let s=e[c];return null!=s&&String(s).toLowerCase().includes(t.toLowerCase())}).sort((e,s)=>{let t=e[c],r=s[c];return null===t&&null===r?0:null===t?m?1:-1:null===r?m?-1:1:"string"==typeof t&&"string"==typeof r?m?t.localeCompare(r):r.localeCompare(t):m?t-r:r-t}),G=(e,s)=>{if(!e||!s)return{value:null,status:"",color:""};let t=(e/Math.pow(s,2)).toFixed(1),r="",i="";return 18.5>parseFloat(t)?(r="Insuffisance pond\xe9rale",i="text-blue-500"):25>parseFloat(t)?(r="Poids normal",i="text-green-500"):30>parseFloat(t)?(r="Surpoids",i="text-yellow-500"):(r="Ob\xe9sit\xe9",i="text-red-500"),{value:t,status:r,color:i}},q=e=>e?new Date(e).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",O=e=>{switch(e?.toUpperCase()){case"M":return(0,r.jsxs)("span",{className:"flex items-center text-blue-600",children:[(0,r.jsx)(d.Rmh,{className:"mr-1 print:hidden"})," Masculin"]});case"F":return(0,r.jsxs)("span",{className:"flex items-center text-pink-600",children:[(0,r.jsx)(d.JQN,{className:"mr-1 print:hidden"})," F\xe9minin"]});case"AUTRE":return(0,r.jsxs)("span",{className:"flex items-center text-purple-600",children:[(0,r.jsx)(d.RP5,{className:"mr-1 print:hidden"})," Autre"]});default:return(0,r.jsx)("span",{className:"text-gray-500",children:"Non sp\xe9cifi\xe9"})}};return(0,r.jsx)(C.A,{children:(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50",children:[(0,r.jsx)(k.A,{}),(0,r.jsxs)("div",{className:"jsx-2e36d6e44e925a73 container mx-auto px-4 py-8 text-black",children:[(0,r.jsxs)(o.P.div,{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4 print:hidden",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,r.jsxs)("div",{className:"jsx-2e36d6e44e925a73",children:[(0,r.jsx)("h1",{className:"jsx-2e36d6e44e925a73 text-3xl font-bold text-indigo-700",children:"Gestion des Patients"}),(0,r.jsxs)("p",{className:"jsx-2e36d6e44e925a73 text-gray-500 mt-1 text-lg",children:[T.length," patient(s) trouv\xe9(s)"]})]}),(0,r.jsxs)("div",{className:"jsx-2e36d6e44e925a73 flex flex-wrap gap-3 w-full md:w-auto",children:[(0,r.jsxs)("button",{onClick:()=>M.push("/patients/ajouter"),className:"jsx-2e36d6e44e925a73 flex items-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-700 hover:from-blue-700 hover:to-indigo-800 text-white px-4 py-2 rounded-lg transition text-lg shadow-md",children:[(0,r.jsx)(d.OiG,{})," Nouveau patient"]}),(0,r.jsxs)("button",{onClick:()=>{window.print()},className:"jsx-2e36d6e44e925a73 flex items-center gap-2 bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition text-lg shadow-md",children:[(0,r.jsx)(d.n4o,{})," Imprimer"]})]})]}),(0,r.jsxs)("div",{className:"jsx-2e36d6e44e925a73 hidden print:block print-header p-4 border-b mb-4",children:[(0,r.jsx)("h1",{className:"jsx-2e36d6e44e925a73 text-2xl font-bold text-center",children:"Liste des Patients"}),(0,r.jsxs)("p",{className:"jsx-2e36d6e44e925a73 text-center text-gray-600",children:["G\xe9n\xe9r\xe9 le ",new Date().toLocaleDateString("fr-FR")]})]}),(0,r.jsx)("div",{className:"jsx-2e36d6e44e925a73 hidden print:block mb-8",children:(0,r.jsxs)("table",{className:"jsx-2e36d6e44e925a73 w-full border-collapse",children:[(0,r.jsx)("thead",{className:"jsx-2e36d6e44e925a73",children:(0,r.jsxs)("tr",{className:"jsx-2e36d6e44e925a73 border-b-2 border-gray-800",children:[(0,r.jsx)("th",{className:"jsx-2e36d6e44e925a73 py-2 px-4 text-left",children:"N\xb0"}),(0,r.jsx)("th",{className:"jsx-2e36d6e44e925a73 py-2 px-4 text-left",children:"Nom"}),(0,r.jsx)("th",{className:"jsx-2e36d6e44e925a73 py-2 px-4 text-left",children:"Sexe"}),(0,r.jsx)("th",{className:"jsx-2e36d6e44e925a73 py-2 px-4 text-left",children:"Diagnostic"})]})}),(0,r.jsx)("tbody",{className:"jsx-2e36d6e44e925a73",children:T.map((e,s)=>(0,r.jsxs)("tr",{className:"jsx-2e36d6e44e925a73 border-b border-gray-200",children:[(0,r.jsx)("td",{className:"jsx-2e36d6e44e925a73 py-2 px-4",children:s+1}),(0,r.jsx)("td",{className:"jsx-2e36d6e44e925a73 py-2 px-4",children:e.name}),(0,r.jsx)("td",{className:"jsx-2e36d6e44e925a73 py-2 px-4",children:"M"===e.sexe?"Masculin":"F"===e.sexe?"F\xe9minin":"Autre"===e.sexe?"Autre":"Non sp\xe9cifi\xe9"}),(0,r.jsx)("td",{className:"jsx-2e36d6e44e925a73 py-2 px-4",children:e.diagnosis||"-"})]},e.id))})]})}),(0,r.jsx)(o.P.div,{className:"bg-white rounded-xl shadow-lg p-6 mb-6 print:hidden",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:(0,r.jsxs)("div",{className:"jsx-2e36d6e44e925a73 grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"jsx-2e36d6e44e925a73 relative",children:[(0,r.jsx)("div",{className:"jsx-2e36d6e44e925a73 absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(d.KSO,{className:"text-gray-400"})}),(0,r.jsx)("input",{type:"text",placeholder:"Rechercher...",value:t,onChange:e=>i(e.target.value),className:"jsx-2e36d6e44e925a73 pl-10 w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-lg text-black shadow-sm"})]}),(0,r.jsxs)("div",{className:"jsx-2e36d6e44e925a73 relative",children:[(0,r.jsx)("div",{className:"jsx-2e36d6e44e925a73 absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(d.YsJ,{className:"text-gray-400"})}),(0,r.jsxs)("select",{value:c,onChange:e=>u(e.target.value),className:"jsx-2e36d6e44e925a73 pl-10 w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-lg text-black shadow-sm",children:[(0,r.jsx)("option",{value:"name",className:"jsx-2e36d6e44e925a73",children:"Nom"}),(0,r.jsx)("option",{value:"age",className:"jsx-2e36d6e44e925a73",children:"\xc2ge"}),(0,r.jsx)("option",{value:"sexe",className:"jsx-2e36d6e44e925a73",children:"Sexe"}),(0,r.jsx)("option",{value:"diagnosis",className:"jsx-2e36d6e44e925a73",children:"Diagnostic"}),(0,r.jsx)("option",{value:"medecin",className:"jsx-2e36d6e44e925a73",children:"M\xe9decin"}),(0,r.jsx)("option",{value:"numSecu",className:"jsx-2e36d6e44e925a73",children:"N\xb0 S\xe9curit\xe9 Sociale"}),(0,r.jsx)("option",{value:"traitement",className:"jsx-2e36d6e44e925a73",children:"Traitement"}),(0,r.jsx)("option",{value:"groupeSanguin",className:"jsx-2e36d6e44e925a73",children:"Groupe sanguin"}),(0,r.jsx)("option",{value:"allergies",className:"jsx-2e36d6e44e925a73",children:"Allergies"}),(0,r.jsx)("option",{value:"rendezvous",className:"jsx-2e36d6e44e925a73",children:"Prochain RDV"})]})]}),(0,r.jsxs)("button",{onClick:()=>h(!m),className:"jsx-2e36d6e44e925a73 flex items-center justify-center gap-2 w-full p-3 bg-gray-100 hover:bg-gray-200 rounded-lg transition text-lg text-black shadow-sm",children:[(0,r.jsx)(d.MjW,{}),m?"Croissant":"D\xe9croissant"]})]})}),(0,r.jsx)(o.P.div,{className:"bg-white rounded-xl shadow-lg overflow-hidden print:shadow-none print:rounded-none",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:(0,r.jsx)("div",{className:"jsx-2e36d6e44e925a73 overflow-x-auto print:hidden",children:0===T.length?(0,r.jsx)("div",{className:"jsx-2e36d6e44e925a73 p-8 text-center text-gray-500",children:"Aucun patient trouv\xe9. Essayez de modifier vos crit\xe8res de recherche."}):(0,r.jsx)("div",{className:"jsx-2e36d6e44e925a73 space-y-4 p-4",children:T.map(e=>{let s=G(e.poids,e.taille),t=D===e.id,i=e.diagnosis?.toLowerCase().includes("critique");return(0,r.jsxs)("div",{className:`jsx-2e36d6e44e925a73 border rounded-lg overflow-hidden transition-all duration-300 ${i?"border-red-200 bg-red-50":"border-gray-200"}`,children:[(0,r.jsxs)("div",{onClick:()=>I(e.id),className:`jsx-2e36d6e44e925a73 p-4 cursor-pointer flex justify-between items-center ${i?"bg-red-100":"bg-gray-50"}`,children:[(0,r.jsxs)("div",{className:"jsx-2e36d6e44e925a73 flex items-center space-x-4",children:[(0,r.jsx)("div",{className:`jsx-2e36d6e44e925a73 w-12 h-12 rounded-full flex items-center justify-center ${i?"bg-red-200 text-red-700":"bg-blue-100 text-blue-700"}`,children:e.name.charAt(0).toUpperCase()}),(0,r.jsxs)("div",{className:"jsx-2e36d6e44e925a73",children:[(0,r.jsxs)("h3",{className:"jsx-2e36d6e44e925a73 font-bold text-lg",children:[e.name,i&&(0,r.jsx)(d.BS8,{className:"ml-2 inline text-red-600"})]}),(0,r.jsxs)("div",{className:"jsx-2e36d6e44e925a73 flex flex-wrap gap-x-4 gap-y-1 text-sm text-gray-600",children:[(0,r.jsxs)("span",{className:"jsx-2e36d6e44e925a73",children:[(0,r.jsx)(d.V4G,{className:"inline mr-1"})," ",e.age," ans"]}),O(e.sexe),e.groupeSanguin&&(0,r.jsxs)("span",{className:"jsx-2e36d6e44e925a73",children:[(0,r.jsx)(d.szJ,{className:"inline mr-1"})," ",e.groupeSanguin]})]})]})]}),(0,r.jsxs)("div",{className:"jsx-2e36d6e44e925a73 text-right",children:[(0,r.jsx)("div",{className:"jsx-2e36d6e44e925a73 font-medium",children:e.diagnosis}),(0,r.jsx)("div",{className:"jsx-2e36d6e44e925a73 text-sm text-gray-500",children:e.rendezvous?q(e.rendezvous):"Pas de RDV"})]})]}),t&&(0,r.jsxs)("div",{className:"jsx-2e36d6e44e925a73 p-4 border-t grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"jsx-2e36d6e44e925a73 space-y-2",children:[(0,r.jsxs)("h4",{className:"jsx-2e36d6e44e925a73 font-semibold text-blue-700 flex items-center",children:[(0,r.jsx)(d.Ax7,{className:"mr-2"})," Informations m\xe9dicales"]}),(0,r.jsxs)("div",{className:"jsx-2e36d6e44e925a73 space-y-1 text-sm",children:[(0,r.jsxs)("div",{className:"jsx-2e36d6e44e925a73",children:[(0,r.jsx)("span",{className:"jsx-2e36d6e44e925a73 font-medium",children:"Sexe:"})," ",O(e.sexe)]}),(0,r.jsxs)("div",{className:"jsx-2e36d6e44e925a73",children:[(0,r.jsx)("span",{className:"jsx-2e36d6e44e925a73 font-medium",children:"Diagnostic:"})," ",e.diagnosis||"-"]}),(0,r.jsxs)("div",{className:"jsx-2e36d6e44e925a73",children:[(0,r.jsx)("span",{className:"jsx-2e36d6e44e925a73 font-medium",children:"Traitement:"})," ",e.traitement||"-"]}),(0,r.jsxs)("div",{className:"jsx-2e36d6e44e925a73",children:[(0,r.jsx)("span",{className:"jsx-2e36d6e44e925a73 font-medium",children:"Allergies:"})," ",e.allergies||"Aucune"]}),(0,r.jsxs)("div",{className:"jsx-2e36d6e44e925a73",children:[(0,r.jsx)("span",{className:"jsx-2e36d6e44e925a73 font-medium",children:"Notes:"})," ",e.notes||"-"]})]})]}),(0,r.jsxs)("div",{className:"jsx-2e36d6e44e925a73 space-y-2",children:[(0,r.jsxs)("h4",{className:"jsx-2e36d6e44e925a73 font-semibold text-blue-700 flex items-center",children:[(0,r.jsx)(d.egb,{className:"mr-2"})," D\xe9tails physiques"]}),(0,r.jsxs)("div",{className:"jsx-2e36d6e44e925a73 space-y-1 text-sm",children:[(0,r.jsxs)("div",{className:"jsx-2e36d6e44e925a73",children:[(0,r.jsx)("span",{className:"jsx-2e36d6e44e925a73 font-medium",children:"Poids:"})," ",e.poids?`${e.poids} kg`:"-"]}),(0,r.jsxs)("div",{className:"jsx-2e36d6e44e925a73",children:[(0,r.jsx)("span",{className:"jsx-2e36d6e44e925a73 font-medium",children:"Taille:"})," ",e.taille?`${e.taille} m`:"-"]}),(0,r.jsxs)("div",{className:"jsx-2e36d6e44e925a73",children:[(0,r.jsx)("span",{className:"jsx-2e36d6e44e925a73 font-medium",children:"IMC:"})," ",s.value?(0,r.jsxs)("span",{className:`jsx-2e36d6e44e925a73 font-medium ${s.color}`,children:[s.value," ",(0,r.jsxs)("span",{className:"jsx-2e36d6e44e925a73 text-xs font-normal",children:["(",s.status,")"]})]}):"-"]}),(0,r.jsxs)("div",{className:"jsx-2e36d6e44e925a73",children:[(0,r.jsx)("span",{className:"jsx-2e36d6e44e925a73 font-medium",children:"Groupe sanguin:"})," ",e.groupeSanguin||"-"]})]})]}),(0,r.jsxs)("div",{className:"jsx-2e36d6e44e925a73 space-y-2",children:[(0,r.jsxs)("h4",{className:"jsx-2e36d6e44e925a73 font-semibold text-blue-700 flex items-center",children:[(0,r.jsx)(d.AWX,{className:"mr-2"})," Informations administratives"]}),(0,r.jsxs)("div",{className:"jsx-2e36d6e44e925a73 space-y-1 text-sm",children:[(0,r.jsxs)("div",{className:"jsx-2e36d6e44e925a73",children:[(0,r.jsx)("span",{className:"jsx-2e36d6e44e925a73 font-medium",children:"ID:"})," ",e.id]}),(0,r.jsxs)("div",{className:"jsx-2e36d6e44e925a73",children:[(0,r.jsx)("span",{className:"jsx-2e36d6e44e925a73 font-medium",children:"N\xb0 S\xe9curit\xe9 Sociale:"})," ",e.numSecu||"-"]}),(0,r.jsxs)("div",{className:"jsx-2e36d6e44e925a73",children:[(0,r.jsx)("span",{className:"jsx-2e36d6e44e925a73 font-medium",children:"M\xe9decin traitant:"})," ",e.medecin||"-"]}),(0,r.jsxs)("div",{className:"jsx-2e36d6e44e925a73",children:[(0,r.jsx)("span",{className:"jsx-2e36d6e44e925a73 font-medium",children:"Prochain RDV:"})," ",q(e.rendezvous)]}),(0,r.jsxs)("div",{className:"jsx-2e36d6e44e925a73",children:[(0,r.jsx)("span",{className:"jsx-2e36d6e44e925a73 font-medium",children:"Date cr\xe9ation:"})," ",q(e.createdAt)]})]})]}),(0,r.jsxs)("div",{className:"jsx-2e36d6e44e925a73 md:col-span-3 flex justify-end space-x-2 pt-4 border-t",children:[(0,r.jsxs)("button",{onClick:()=>M.push(`/patients/dossier/${e.id}`),className:"jsx-2e36d6e44e925a73 flex items-center gap-2 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded transition",children:[(0,r.jsx)(d.Ny1,{})," Voir dossier"]}),(0,r.jsxs)("button",{onClick:()=>M.push(`/patients/modifier/${e.id}`),className:"jsx-2e36d6e44e925a73 flex items-center gap-2 bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded transition",children:[(0,r.jsx)(d.uO9,{})," Modifier"]}),(0,r.jsxs)("button",{onClick:()=>E(e.id),className:"jsx-2e36d6e44e925a73 flex items-center gap-2 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded transition",children:[(0,r.jsx)(d.qbC,{})," Supprimer"]})]})]})]},e.id)})})})}),x&&(0,r.jsx)(S,{message:x,type:j,details:g,action:N,onClose:()=>{p(""),f(void 0),y(void 0),w(void 0)}}),(0,r.jsx)(n(),{id:"2e36d6e44e925a73",children:"@media print{body{background:white!important;font-size:12pt;color:black}.print\\\\:hidden{display:none!important}.hidden.print\\\\:block{display:block!important}.print-header{margin-bottom:20px;padding-bottom:10px;border-bottom:2px solid#000}nav{display:none!important}table{width:100%;border-collapse:collapse}th{text-align:left;font-weight:bold;border-bottom:1px solid#000;padding:8px}td{padding:8px;border-bottom:1px solid#ddd}tr:nth-child(even){background-color:#f9f9f9}}"})]})]})})}}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[447,985,911,729,715],()=>t(9143));module.exports=r})();