(()=>{var e={};e.id=345,e.ids=[345],e.modules={47:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d});var r=s(5239),n=s(8088),a=s(8170),i=s.n(a),l=s(893),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d={children:["",{children:["patients",{children:["[id]",{children:["completer",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4902)),"/Users/macuser/Documents/GitHub/Hackathon_GL_2025/app/patients/[id]/completer/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,8014)),"/Users/macuser/Documents/GitHub/Hackathon_GL_2025/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,5284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/Users/macuser/Documents/GitHub/Hackathon_GL_2025/app/patients/[id]/completer/page.tsx"],m={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/patients/[id]/completer/page",pathname:"/patients/[id]/completer",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2704:()=>{},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4902:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/macuser/Documents/GitHub/Hackathon_GL_2025/app/patients/[id]/completer/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/macuser/Documents/GitHub/Hackathon_GL_2025/app/patients/[id]/completer/page.tsx","default")},5016:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6444,23)),Promise.resolve().then(s.t.bind(s,6042,23)),Promise.resolve().then(s.t.bind(s,8170,23)),Promise.resolve().then(s.t.bind(s,9477,23)),Promise.resolve().then(s.t.bind(s,9345,23)),Promise.resolve().then(s.t.bind(s,2089,23)),Promise.resolve().then(s.t.bind(s,6577,23)),Promise.resolve().then(s.t.bind(s,1307,23))},5657:()=>{},5908:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(687),n=s(3210),a=s(6189),i=s(9587);function l(){let{id:e}=(0,a.useParams)(),t=(0,a.useRouter)(),[s,l]=(0,n.useState)(null),[o,d]=(0,n.useState)(!0),[c,m]=(0,n.useState)(!1),[u,x]=(0,n.useState)(null),[p,h]=(0,n.useState)({}),b=e=>{let{name:t,value:r,type:n}=e.target;if(!s)return;let a=r;"number"===n&&(a=r?parseFloat(r):null),l({...s,[t]:a}),p[t]&&h({...p,[t]:""})},g=()=>{let e={};return s?.poids&&s.poids<=0&&(e.poids="Le poids doit \xeatre sup\xe9rieur \xe0 0"),s?.taille&&s.taille<=0&&(e.taille="La taille doit \xeatre sup\xe9rieure \xe0 0"),s?.numSecu&&!/^\d{13,15}$/.test(s.numSecu)&&(e.numSecu="Le num\xe9ro de s\xe9curit\xe9 sociale doit contenir entre 13 et 15 chiffres"),h(e),0===Object.keys(e).length},v=async r=>{if((r.preventDefault(),s&&e)&&g()){m(!0);try{let r=await fetch(`/api/patients/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!r.ok)throw Error(`Erreur lors de la sauvegarde: ${r.status}`);t.push(`/patients/dossier/${e}`)}catch(e){console.error("Erreur lors de la sauvegarde:",e),x("Erreur lors de la sauvegarde des informations")}finally{m(!1)}}};return o?(0,r.jsx)("div",{className:"min-h-screen flex justify-center items-center text-xl text-gray-700",children:"Chargement des informations..."}):u||!s?(0,r.jsxs)("div",{className:"min-h-screen flex flex-col justify-center items-center text-red-600",children:[(0,r.jsx)(i.TNq,{className:"text-4xl mb-4"}),(0,r.jsx)("h2",{className:"text-xl",children:u||"Patient introuvable."}),(0,r.jsx)("button",{onClick:()=>t.back(),className:"mt-4 text-indigo-600 hover:underline",children:"Retour"})]}):(0,r.jsx)("div",{className:"bg-gray-100 min-h-screen p-6 text-black",children:(0,r.jsxs)("div",{className:"max-w-3xl mx-auto bg-white p-8 rounded-lg shadow-md",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsxs)("button",{onClick:()=>t.back(),className:"flex items-center text-indigo-600 hover:underline",children:[(0,r.jsx)(i.QVr,{className:"mr-2"}),"Retour"]}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-center text-indigo-700",children:"Compl\xe9ter la fiche m\xe9dicale"})]}),(0,r.jsxs)("form",{onSubmit:v,children:[(0,r.jsxs)("div",{className:"mb-6 bg-gray-50 p-4 rounded-md",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-indigo-700 mb-3",children:"Informations de base"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-700 font-medium mb-1",children:"Nom complet"}),(0,r.jsx)("input",{type:"text",value:s.name,className:"w-full p-2 border border-gray-300 rounded bg-gray-100 text-gray-700",disabled:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-700 font-medium mb-1",children:"\xc2ge"}),(0,r.jsx)("input",{type:"number",value:s.age,className:"w-full p-2 border border-gray-300 rounded bg-gray-100 text-gray-700",disabled:!0})]}),(0,r.jsxs)("div",{className:"md:col-span-2",children:[(0,r.jsx)("label",{className:"block text-gray-700 font-medium mb-1",children:"Diagnostic"}),(0,r.jsx)("input",{type:"text",value:s.diagnosis,className:"w-full p-2 border border-gray-300 rounded bg-gray-100 text-gray-700",disabled:!0})]})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-indigo-700 mb-3",children:"Informations m\xe9dicales compl\xe9mentaires"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-gray-700 font-medium mb-1",children:["Poids (kg) ",(0,r.jsx)("span",{className:"text-gray-500 text-sm",children:"(optionnel)"})]}),(0,r.jsx)("input",{type:"number",name:"poids",value:s.poids||"",onChange:b,step:"0.1",placeholder:"Ex: 70.5",className:`w-full p-2 border rounded ${p.poids?"border-red-500":"border-gray-300"}`}),p.poids&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:p.poids})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-gray-700 font-medium mb-1",children:["Taille (m) ",(0,r.jsx)("span",{className:"text-gray-500 text-sm",children:"(optionnel)"})]}),(0,r.jsx)("input",{type:"number",name:"taille",value:s.taille||"",onChange:b,step:"0.01",placeholder:"Ex: 1.75",className:`w-full p-2 border rounded ${p.taille?"border-red-500":"border-gray-300"}`}),p.taille&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:p.taille})]}),(0,r.jsxs)("div",{className:"md:col-span-2",children:[(0,r.jsxs)("label",{className:"block text-gray-700 font-medium mb-1",children:["Traitement en cours ",(0,r.jsx)("span",{className:"text-gray-500 text-sm",children:"(optionnel)"})]}),(0,r.jsx)("textarea",{name:"traitement",value:s.traitement||"",onChange:b,rows:3,placeholder:"Entrez les d\xe9tails du traitement",className:"w-full p-2 border border-gray-300 rounded"})]})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-indigo-700 mb-3",children:"Informations administratives"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"md:col-span-2",children:[(0,r.jsxs)("label",{className:"block text-gray-700 font-medium mb-1",children:["Num\xe9ro de s\xe9curit\xe9 sociale ",(0,r.jsx)("span",{className:"text-gray-500 text-sm",children:"(optionnel)"})]}),(0,r.jsx)("input",{type:"text",name:"numSecu",value:s.numSecu||"",onChange:b,placeholder:"Ex: 1234567890123",className:`w-full p-2 border rounded ${p.numSecu?"border-red-500":"border-gray-300"}`}),p.numSecu&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:p.numSecu})]}),(0,r.jsxs)("div",{className:"md:col-span-2",children:[(0,r.jsxs)("label",{className:"block text-gray-700 font-medium mb-1",children:["M\xe9decin traitant ",(0,r.jsx)("span",{className:"text-gray-500 text-sm",children:"(optionnel)"})]}),(0,r.jsx)("input",{type:"text",name:"medecin",value:s.medecin||"",onChange:b,placeholder:"Ex: Dr. Martin",className:"w-full p-2 border border-gray-300 rounded"})]})]})]}),u&&(0,r.jsx)("div",{className:"bg-red-100 text-red-700 p-3 rounded mb-4",children:u}),(0,r.jsxs)("div",{className:"flex justify-end space-x-4 mt-8",children:[(0,r.jsx)("button",{type:"button",onClick:()=>t.back(),className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600 transition",children:"Annuler"}),(0,r.jsxs)("button",{type:"submit",disabled:c,className:`px-6 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 transition flex items-center ${c?"opacity-75 cursor-not-allowed":""}`,children:[(0,r.jsx)(i.dIn,{className:"mr-2"}),c?"Enregistrement...":"Enregistrer et voir la fiche"]})]})]})]})})}},6281:()=>{},6889:(e,t,s)=>{Promise.resolve().then(s.bind(s,4902))},8014:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d,metadata:()=>o});var r=s(7413);s(2704);var n=s(6389),a=s.n(n),i=s(1189),l=s.n(i);let o={title:"AI4CKD",description:"Suivi intelligent des patients atteints de MRC"};function d({children:e}){return(0,r.jsx)("html",{lang:"fr",children:(0,r.jsx)("body",{className:`${a().variable} ${l().variable} antialiased`,children:(0,r.jsx)("main",{children:e})})})}},8745:(e,t,s)=>{Promise.resolve().then(s.bind(s,5908))},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9336:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6346,23)),Promise.resolve().then(s.t.bind(s,7924,23)),Promise.resolve().then(s.t.bind(s,5656,23)),Promise.resolve().then(s.t.bind(s,99,23)),Promise.resolve().then(s.t.bind(s,8243,23)),Promise.resolve().then(s.t.bind(s,8827,23)),Promise.resolve().then(s.t.bind(s,2763,23)),Promise.resolve().then(s.t.bind(s,7173,23))}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[447,985,911],()=>s(47));module.exports=r})();