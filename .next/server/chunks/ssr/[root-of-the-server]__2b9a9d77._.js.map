{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///Users/macuser/Documents/GitHub/Hackathon_GL_2025/app/login/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { toast } from \"react-hot-toast\";\nimport { FaUserMd, FaLock, FaSpinner } from \"react-icons/fa\";\n\nconst DEFAULT_CREDENTIALS = {\n  username: \"admin\",\n  password: \"medecin123\"\n};\n\nexport default function LoginPage() {\n  const [credentials, setCredentials] = useState({\n    username: \"\",\n    password: \"\"\n  });\n  const [isLoading, setIsLoading] = useState(true);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const router = useRouter();\n\n  useEffect(() => {\n    const checkAuth = () => {\n      const logoutFlag = sessionStorage.getItem(\"justLoggedOut\");\n      const isLoggedIn = localStorage.getItem(\"medecin_auth\");\n      \n      if (logoutFlag === \"true\") {\n        sessionStorage.removeItem(\"justLoggedOut\");\n        setIsLoading(false);\n        return;\n      }\n      \n      if (isLoggedIn) {\n        try {\n          const authData = JSON.parse(isLoggedIn);\n          // Vous pourriez ajouter une vérification de l'expiration ici\n          router.push(\"/patients\");\n        } catch {\n          localStorage.removeItem(\"medecin_auth\");\n          setIsLoading(false);\n        }\n      } else {\n        setIsLoading(false);\n      }\n    };\n\n    checkAuth();\n  }, [router]);\n\n  const handleLogin = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsSubmitting(true);\n\n    try {\n      // Simulation de délai pour le processus d'authentification\n      await new Promise(resolve => setTimeout(resolve, 800));\n      \n      if (credentials.username === DEFAULT_CREDENTIALS.username && \n          credentials.password === DEFAULT_CREDENTIALS.password) {\n        \n        const authData = {\n          isLoggedIn: true,\n          username: credentials.username,\n          lastLogin: new Date().toISOString()\n        };\n        \n        localStorage.setItem(\"medecin_auth\", JSON.stringify(authData));\n        \n        toast.success(\"Connexion réussie !\", {\n          position: \"top-center\"\n        });\n        \n        router.push(\"/patients\");\n      } else {\n        throw new Error(\"Identifiants incorrects\");\n      }\n    } catch (error) {\n      toast.error(error.message, {\n        position: \"top-center\"\n      });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n    setCredentials(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen bg-gray-50\">\n        <div className=\"flex flex-col items-center\">\n          <FaSpinner className=\"animate-spin text-blue-600 text-4xl mb-4\" />\n          <p className=\"text-gray-600\">Vérification de l'authentification...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-gray-50\">\n      <div className=\"w-full max-w-md px-6\">\n        <div className=\"bg-white p-8 rounded-xl shadow-lg border border-gray-100\">\n          <div className=\"flex flex-col items-center mb-8\">\n            <div className=\"bg-blue-100 p-4 rounded-full mb-4\">\n              <FaUserMd className=\"text-blue-600 text-3xl\" />\n            </div>\n            <h1 className=\"text-2xl font-bold text-gray-800\">Espace Médecin</h1>\n            <p className=\"text-gray-500 text-center mt-2\">\n              Veuillez vous connecter pour accéder au système\n            </p>\n          </div>\n\n          <form onSubmit={handleLogin} className=\"space-y-6\">\n            <div>\n              <label htmlFor=\"username\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Identifiant\n              </label>\n              <div className=\"relative\">\n                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                  <FaUserMd className=\"text-gray-400\" />\n                </div>\n                <input\n                  type=\"text\"\n                  id=\"username\"\n                  name=\"username\"\n                  value={credentials.username}\n                  onChange={handleInputChange}\n                  className=\"w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  placeholder=\"Entrez votre identifiant\"\n                  required\n                />\n              </div>\n            </div>\n\n            <div>\n              <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Mot de passe\n              </label>\n              <div className=\"relative\">\n                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                  <FaLock className=\"text-gray-400\" />\n                </div>\n                <input\n                  type=\"password\"\n                  id=\"password\"\n                  name=\"password\"\n                  value={credentials.password}\n                  onChange={handleInputChange}\n                  className=\"w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  placeholder=\"Entrez votre mot de passe\"\n                  required\n                />\n              </div>\n            </div>\n\n            <div className=\"pt-2\">\n              <button\n                type=\"submit\"\n                disabled={isSubmitting}\n                className={`w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition duration-200 flex items-center justify-center ${\n                  isSubmitting ? \"opacity-75 cursor-not-allowed\" : \"\"\n                }`}\n              >\n                {isSubmitting ? (\n                  <>\n                    <FaSpinner className=\"animate-spin mr-2\" />\n                    Connexion...\n                  </>\n                ) : (\n                  \"Se connecter\"\n                )}\n              </button>\n            </div>\n          </form>\n\n          <div className=\"mt-8 p-4 bg-blue-50 rounded-lg text-center text-sm text-gray-600\">\n            <p className=\"font-medium\">Identifiants de démonstration :</p>\n            <p className=\"mt-1\">\n              <span className=\"font-semibold\">Utilisateur :</span>{\" \"}\n              <span className=\"bg-blue-100 px-2 py-1 rounded\">{DEFAULT_CREDENTIALS.username}</span>\n            </p>\n            <p className=\"mt-1\">\n              <span className=\"font-semibold\">Mot de passe :</span>{\" \"}\n              <span className=\"bg-blue-100 px-2 py-1 rounded\">{DEFAULT_CREDENTIALS.password}</span>\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}