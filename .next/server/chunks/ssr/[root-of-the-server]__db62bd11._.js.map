{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///Users/macuser/Documents/GitHub/Hackathon_GL_2025/app/components/Notification.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { X, CheckCircle2, AlertCircle, Info, AlertTriangle, Calendar, Clock, MapPin, User, FileText, Phone, Check, X as XIcon } from \"lucide-react\";\n\ntype NotificationType = \"success\" | \"error\" | \"warning\" | \"info\" | \"appointment\";\n\ninterface MedicalAppointmentData {\n  patientName?: string;\n  patientId?: string;\n  date?: string;\n  time?: string;\n  duration?: string;\n  doctorName?: string;\n  speciality?: string;\n  location?: string;\n  address?: string;\n  reason?: string;\n  instructions?: string;\n  contactPhone?: string;\n  isUrgent?: boolean;\n  insuranceRequired?: boolean;\n  documents?: string[];\n}\n\ninterface NotificationProps {\n  message: string;\n  type?: NotificationType;\n  duration?: number;\n  onClose: () => void;\n  details?: string;\n  appointmentData?: MedicalAppointmentData;\n  action?: {\n    label: string;\n    onClick: () => void;\n  };\n  onConfirmAppointment?: () => void;\n  onCancelAppointment?: () => void;\n  onRescheduleAppointment?: () => void;\n}\n\nconst icons = {\n  success: <CheckCircle2 className=\"w-5 h-5\" />,\n  error: <AlertCircle className=\"w-5 h-5\" />,\n  warning: <AlertTriangle className=\"w-5 h-5\" />,\n  info: <Info className=\"w-5 h-5\" />,\n  appointment: <Calendar className=\"w-5 h-5\" />,\n};\n\nconst colors = {\n  success: \"bg-emerald-100 border-emerald-400 text-emerald-700\",\n  error: \"bg-red-100 border-red-400 text-red-700\",\n  warning: \"bg-amber-100 border-amber-400 text-amber-700\",\n  info: \"bg-blue-100 border-blue-400 text-blue-700\",\n  appointment: \"bg-indigo-100 border-indigo-400 text-indigo-700\",\n};\n\nexport default function Notification({\n  message,\n  type = \"info\",\n  duration = 5000,\n  onClose,\n  details,\n  appointmentData,\n  action,\n  onConfirmAppointment,\n  onCancelAppointment,\n  onRescheduleAppointment,\n}: NotificationProps) {\n  const [isVisible, setIsVisible] = useState(false);\n  const [expanded, setExpanded] = useState(type === \"appointment\");\n  const [appointmentStatus, setAppointmentStatus] = useState<\"pending\" | \"confirmed\" | \"cancelled\" | null>(null);\n\n  useEffect(() => {\n    // Animation d'entrée\n    setIsVisible(true);\n    \n    if (duration && type !== \"appointment\") {\n      const timer = setTimeout(() => {\n        handleClose();\n      }, duration);\n      return () => clearTimeout(timer);\n    }\n  }, [duration, type]);\n\n  const handleClose = () => {\n    // Animation de sortie\n    setIsVisible(false);\n    setTimeout(() => {\n      onClose();\n    }, 300); // Correspond à la durée de l'animation de sortie\n  };\n\n  const toggleExpand = () => {\n    setExpanded(!expanded);\n  };\n\n  const handleConfirmAppointment = () => {\n    setAppointmentStatus(\"confirmed\");\n    if (onConfirmAppointment) {\n      onConfirmAppointment();\n    }\n  };\n\n  const handleCancelAppointment = () => {\n    setAppointmentStatus(\"cancelled\");\n    if (onCancelAppointment) {\n      onCancelAppointment();\n    }\n  };\n\n  // Détermine si le rendez-vous est urgent ou proche\n  const isUrgentAppointment = appointmentData?.isUrgent || false;\n  \n  // Calcule si le rendez-vous est dans moins de 24h\n  const isImminentAppointment = () => {\n    if (appointmentData?.date) {\n      const appointmentDate = new Date(`${appointmentData.date} ${appointmentData.time || '00:00'}`);\n      const now = new Date();\n      const hoursDifference = (appointmentDate.getTime() - now.getTime()) / (1000 * 60 * 60);\n      return hoursDifference <= 24;\n    }\n    return false;\n  };\n\n  // Définit la couleur de la notification en fonction de l'urgence\n  const getAppointmentColorClass = () => {\n    if (isUrgentAppointment) {\n      return \"bg-red-100 border-red-400 text-red-700\";\n    }\n    if (isImminentAppointment()) {\n      return \"bg-amber-100 border-amber-400 text-amber-700\";\n    }\n    return colors.appointment;\n  };\n\n  return (\n    <div\n      className={`fixed top-0 left-1/2 transform -translate-x-1/2 w-full max-w-md mx-auto mt-4 z-50 transition-all duration-300 print:hidden ${\n        isVisible ? \"translate-y-0 opacity-100\" : \"-translate-y-10 opacity-0\"\n      }`}\n    >\n      <div\n        className={`border-l-4 rounded-lg shadow-lg p-4 flex flex-col ${\n          type === \"appointment\" ? getAppointmentColorClass() : colors[type]\n        }`}\n        role=\"alert\"\n      >\n        <div className=\"flex items-start gap-3\">\n          <div className=\"flex-shrink-0 pt-0.5\">{icons[type]}</div>\n          <div className=\"flex-1\">\n            <p className=\"font-medium\">\n              {type === \"appointment\" && isUrgentAppointment \n                ? \"Rendez-vous urgent\" \n                : getTitle(type)}\n            </p>\n            <p className=\"text-sm mt-1\">{message}</p>\n            \n            {details && !expanded && (\n              <button \n                onClick={toggleExpand} \n                className=\"text-sm underline mt-1 hover:font-medium\"\n              >\n                Voir plus\n              </button>\n            )}\n          </div>\n          <button\n            onClick={handleClose}\n            className=\"text-gray-500 hover:text-gray-700 transition-colors\"\n            aria-label=\"Fermer la notification\"\n          >\n            <X className=\"w-4 h-4\" />\n          </button>\n        </div>\n        \n        {/* Contenus étendus */}\n        {expanded && details && (\n          <div className=\"mt-3 ml-8 text-sm border-t pt-2 border-opacity-20 border-gray-500\">\n            <p>{details}</p>\n            <button \n              onClick={toggleExpand} \n              className=\"text-xs underline mt-1 hover:font-medium\"\n            >\n              Voir moins\n            </button>\n          </div>\n        )}\n        \n        {/* Informations de rendez-vous médical */}\n        {type === \"appointment\" && appointmentData && (\n          <div className={`mt-3 ml-8 p-3 bg-white bg-opacity-50 rounded-md ${appointmentStatus === \"cancelled\" ? \"opacity-60\" : \"\"}`}>\n            {/* Statut du rendez-vous */}\n            {appointmentStatus && (\n              <div className={`mb-2 text-sm font-medium rounded-full py-1 px-3 inline-block\n                ${appointmentStatus === \"confirmed\" ? \"bg-green-100 text-green-700\" : \"\"}\n                ${appointmentStatus === \"cancelled\" ? \"bg-red-100 text-red-700\" : \"\"}\n              `}>\n                {appointmentStatus === \"confirmed\" && \"Rendez-vous confirmé\"}\n                {appointmentStatus === \"cancelled\" && \"Rendez-vous annulé\"}\n              </div>\n            )}\n\n            {/* Informations patient */}\n            {appointmentData.patientName && (\n              <div className=\"flex items-center gap-2 mb-2\">\n                <User className=\"w-4 h-4\" />\n                <p className=\"text-sm font-medium\">{appointmentData.patientName}</p>\n                {appointmentData.patientId && (\n                  <span className=\"text-xs text-gray-500\">ID: {appointmentData.patientId}</span>\n                )}\n              </div>\n            )}\n\n            {/* Date et heure */}\n            <div className=\"flex flex-col gap-1 mb-2\">\n              <div className=\"flex items-center gap-2\">\n                <Calendar className=\"w-4 h-4\" />\n                <span className=\"text-sm\">{appointmentData.date || \"Date non spécifiée\"}</span>\n              </div>\n              \n              {appointmentData.time && (\n                <div className=\"flex items-center gap-2\">\n                  <Clock className=\"w-4 h-4\" />\n                  <span className=\"text-sm\">\n                    {appointmentData.time}\n                    {appointmentData.duration && ` (${appointmentData.duration})`}\n                  </span>\n                </div>\n              )}\n            </div>\n\n            {/* Docteur et spécialité */}\n            {appointmentData.doctorName && (\n              <div className=\"flex items-start gap-2 mb-2\">\n                <User className=\"w-4 h-4\" />\n                <div>\n                  <span className=\"text-sm font-medium\">Dr. {appointmentData.doctorName}</span>\n                  {appointmentData.speciality && (\n                    <span className=\"text-xs block text-gray-600\">{appointmentData.speciality}</span>\n                  )}\n                </div>\n              </div>\n            )}\n            \n            {/* Lieu */}\n            {(appointmentData.location || appointmentData.address) && (\n              <div className=\"flex items-start gap-2 mb-2\">\n                <MapPin className=\"w-4 h-4\" />\n                <div>\n                  {appointmentData.location && (\n                    <span className=\"text-sm\">{appointmentData.location}</span>\n                  )}\n                  {appointmentData.address && (\n                    <span className=\"text-xs block text-gray-600\">{appointmentData.address}</span>\n                  )}\n                </div>\n              </div>\n            )}\n            \n            {/* Motif */}\n            {appointmentData.reason && (\n              <div className=\"flex items-start gap-2 mb-2\">\n                <FileText className=\"w-4 h-4\" />\n                <p className=\"text-sm\">\n                  <span className=\"font-medium\">Motif:</span> {appointmentData.reason}\n                </p>\n              </div>\n            )}\n            \n            {/* Instructions */}\n            {appointmentData.instructions && (\n              <div className=\"mt-2 p-2 bg-blue-50 rounded text-sm\">\n                <p className=\"font-medium\">Instructions:</p>\n                <p>{appointmentData.instructions}</p>\n              </div>\n            )}\n            \n            {/* Documents nécessaires */}\n            {appointmentData.documents && appointmentData.documents.length > 0 && (\n              <div className=\"mt-2\">\n                <p className=\"text-sm font-medium\">Documents à apporter:</p>\n                <ul className=\"text-xs list-disc pl-5 mt-1\">\n                  {appointmentData.documents.map((doc, index) => (\n                    <li key={index}>{doc}</li>\n                  ))}\n                </ul>\n              </div>\n            )}\n\n            {/* Contact */}\n            {appointmentData.contactPhone && (\n              <div className=\"flex items-center gap-2 mt-2 text-sm\">\n                <Phone className=\"w-4 h-4\" />\n                <a href={`tel:${appointmentData.contactPhone}`} className=\"underline text-blue-600\">\n                  {appointmentData.contactPhone}\n                </a>\n              </div>\n            )}\n            \n            {/* Assurance */}\n            {appointmentData.insuranceRequired && (\n              <div className=\"mt-2 text-xs text-red-600\">\n                N'oubliez pas d'apporter votre carte d'assurance maladie\n              </div>\n            )}\n          </div>\n        )}\n        \n        {/* Actions du rendez-vous */}\n        {type === \"appointment\" && !appointmentStatus && (\n          <div className=\"mt-3 ml-8 flex flex-wrap gap-2\">\n            {onConfirmAppointment && (\n              <button\n                onClick={handleConfirmAppointment}\n                className=\"px-3 py-1 text-sm bg-green-100 text-green-700 rounded-md shadow-sm hover:shadow-md transition-shadow flex items-center gap-1\"\n              >\n                <Check className=\"w-4 h-4\" /> Confirmer\n              </button>\n            )}\n            {onRescheduleAppointment && (\n              <button\n                onClick={onRescheduleAppointment}\n                className=\"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded-md shadow-sm hover:shadow-md transition-shadow flex items-center gap-1\"\n              >\n                <Calendar className=\"w-4 h-4\" /> Reprogrammer\n              </button>\n            )}\n            {onCancelAppointment && (\n              <button\n                onClick={handleCancelAppointment}\n                className=\"px-3 py-1 text-sm bg-red-100 text-red-700 rounded-md shadow-sm hover:shadow-md transition-shadow flex items-center gap-1\"\n              >\n                <XIcon className=\"w-4 h-4\" /> Annuler\n              </button>\n            )}\n          </div>\n        )}\n        \n        {/* Bouton d'action */}\n        {action && (\n          <div className=\"mt-3 ml-8\">\n            <button\n              onClick={action.onClick}\n              className=\"px-3 py-1 text-sm bg-white rounded-md shadow-sm hover:shadow-md transition-shadow\"\n            >\n              {action.label}\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction getTitle(type: NotificationType): string {\n  const titles = {\n    success: \"Succès\",\n    error: \"Erreur\",\n    warning: \"Avertissement\",\n    info: \"Information\",\n    appointment: \"Rappel de rendez-vous\",\n  };\n  return titles[type];\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 693, "column": 0}, "map": {"version":3,"sources":["file:///Users/macuser/Documents/GitHub/Hackathon_GL_2025/app/components/Navbar.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport Image from \"next/image\";\nimport { useState } from \"react\";\n\nexport default function Navigation() {\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  \n  const handleLogout = () => {\n    // Définir le flag de déconnexion\n    sessionStorage.setItem(\"justLoggedOut\", \"true\");\n    \n    // Effacer toutes les données d'authentification\n    localStorage.removeItem(\"isLoggedIn\");\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"user\");\n    sessionStorage.removeItem(\"userData\");\n    \n    // Supprimer le cookie isLoggedIn\n    document.cookie = \"isLoggedIn=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT\";\n    \n    // Forcer le rechargement pour vider le cache\n    window.location.href = \"/login\";\n  };\n  return (\n    <nav className=\"bg-white shadow-md sticky top-0 z-50 print:hidden\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex justify-between h-16 items-center\">\n          <div className=\"flex items-center\">\n            <Link href=\"/\" className=\"flex items-center\">\n              <span className=\"text-blue-600 text-xl font-bold\">AI4CKD</span>\n              <Image \n                src=\"/logo-maladie-renale.svg\" \n                alt=\"Logo AI4CKD pour la gestion des maladies rénales chroniques\" \n                width={52} \n                height={32} \n                className=\"ml-2\"\n                priority\n              />\n            </Link>\n          </div>\n          \n          {/* Menu mobile */}\n          <div className=\"flex md:hidden items-center\">\n            <button\n              onClick={() => setIsMenuOpen(!isMenuOpen)}\n              className=\"text-gray-700 hover:text-blue-600 focus:outline-none\"\n              aria-label=\"Ouvrir le menu de navigation\"\n            >\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" aria-hidden=\"true\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d={isMenuOpen ? \"M6 18L18 6M6 6l12 12\" : \"M4 6h16M4 12h16M4 18h16\"} />\n              </svg>\n            </button>\n          </div>\n          \n          {/* Menu desktop */}\n          <div className=\"hidden md:flex items-center space-x-1 lg:space-x-4\">\n            <Link href=\"/patients\" className=\"px-2 py-2 text-sm lg:text-base text-gray-700 hover:text-blue-600 transition whitespace-nowrap\">\n              Patients\n            </Link>\n            <Link href=\"/dashboard\" className=\"px-2 py-2 text-sm lg:text-base text-gray-700 hover:text-blue-600 transition whitespace-nowrap\">\n              Tableau de bord\n            </Link>\n            <Link href=\"/about\" className=\"px-2 py-2 text-sm lg:text-base text-gray-700 hover:text-blue-600 transition whitespace-nowrap\">\n              À propos\n            </Link>\n            <button \n              onClick={handleLogout}\n              className=\"ml-2 px-3 py-2 text-sm lg:text-base bg-red-500 text-white rounded-md hover:bg-red-600 transition whitespace-nowrap flex items-center\"\n              aria-label=\"Se déconnecter de l'application\"\n            >\n              <svg \n                xmlns=\"http://www.w3.org/2000/svg\" \n                className=\"h-5 w-5 mr-1\" \n                fill=\"none\" \n                viewBox=\"0 0 24 24\" \n                stroke=\"currentColor\"\n                aria-hidden=\"true\"\n              >\n                <path \n                  strokeLinecap=\"round\" \n                  strokeLinejoin=\"round\" \n                  strokeWidth={2} \n                  d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" \n                />\n              </svg>\n              Déconnexion\n            </button>\n          </div>\n        </div>\n      </div>\n      \n      {/* Menu mobile ouvert */}\n      {isMenuOpen && (\n        <div className=\"md:hidden bg-white shadow-lg\">\n          <div className=\"px-2 pt-2 pb-3 space-y-1\">\n            <Link \n              href=\"/patients\" \n              className=\"block px-3 py-2 text-gray-700 hover:text-blue-600 hover:bg-blue-50 rounded-md transition\"\n              onClick={() => setIsMenuOpen(false)}\n            >\n              Patients\n            </Link>\n            <Link \n              href=\"/dashboard\" \n              className=\"block px-3 py-2 text-gray-700 hover:text-blue-600 hover:bg-blue-50 rounded-md transition\"\n              onClick={() => setIsMenuOpen(false)}\n            >\n              Tableau de bord\n            </Link>\n            <Link \n              href=\"/about\" \n              className=\"block px-3 py-2 text-gray-700 hover:text-blue-600 hover:bg-blue-50 rounded-md transition\"\n              onClick={() => setIsMenuOpen(false)}\n            >\n              À propos\n            </Link>\n            <button \n              onClick={handleLogout}\n              className=\"block w-full text-left px-3 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 transition flex items-center\"\n              aria-label=\"Se déconnecter de l'application\"\n            >\n              <svg \n                xmlns=\"http://www.w3.org/2000/svg\" \n                className=\"h-5 w-5 mr-2\" \n                fill=\"none\" \n                viewBox=\"0 0 24 24\" \n                stroke=\"currentColor\"\n                aria-hidden=\"true\"\n              >\n                <path \n                  strokeLinecap=\"round\" \n                  strokeLinejoin=\"round\" \n                  strokeWidth={2} \n                  d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" \n                />\n              </svg>\n              Déconnexion\n            </button>\n          </div>\n        </div>\n      )}\n    </nav>\n  );\n}"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE7C,MAAM,eAAe;QACnB,iCAAiC;QACjC,eAAe,OAAO,CAAC,iBAAiB;QAExC,gDAAgD;QAChD,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;QACxB,eAAe,UAAU,CAAC;QAE1B,iCAAiC;QACjC,SAAS,MAAM,GAAG;QAElB,6CAA6C;QAC7C,OAAO,QAAQ,CAAC,IAAI,GAAG;IACzB;IACA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,4JAAA,CAAA,UAAI;gCAAC,MAAK;gCAAI,WAAU;;kDACvB,8OAAC;wCAAK,WAAU;kDAAkC;;;;;;kDAClD,8OAAC,6HAAA,CAAA,UAAK;wCACJ,KAAI;wCACJ,KAAI;wCACJ,OAAO;wCACP,QAAQ;wCACR,WAAU;wCACV,QAAQ;;;;;;;;;;;;;;;;;sCAMd,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCACC,SAAS,IAAM,cAAc,CAAC;gCAC9B,WAAU;gCACV,cAAW;0CAEX,cAAA,8OAAC;oCAAI,OAAM;oCAA6B,WAAU;oCAAU,MAAK;oCAAO,SAAQ;oCAAY,QAAO;oCAAe,eAAY;8CAC5H,cAAA,8OAAC;wCAAK,eAAc;wCAAQ,gBAAe;wCAAQ,aAAa;wCAAG,GAAG,aAAa,yBAAyB;;;;;;;;;;;;;;;;;;;;;sCAMlH,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,4JAAA,CAAA,UAAI;oCAAC,MAAK;oCAAY,WAAU;8CAAgG;;;;;;8CAGjI,8OAAC,4JAAA,CAAA,UAAI;oCAAC,MAAK;oCAAa,WAAU;8CAAgG;;;;;;8CAGlI,8OAAC,4JAAA,CAAA,UAAI;oCAAC,MAAK;oCAAS,WAAU;8CAAgG;;;;;;8CAG9H,8OAAC;oCACC,SAAS;oCACT,WAAU;oCACV,cAAW;;sDAEX,8OAAC;4CACC,OAAM;4CACN,WAAU;4CACV,MAAK;4CACL,SAAQ;4CACR,QAAO;4CACP,eAAY;sDAEZ,cAAA,8OAAC;gDACC,eAAc;gDACd,gBAAe;gDACf,aAAa;gDACb,GAAE;;;;;;;;;;;wCAEA;;;;;;;;;;;;;;;;;;;;;;;;YAQb,4BACC,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,4JAAA,CAAA,UAAI;4BACH,MAAK;4BACL,WAAU;4BACV,SAAS,IAAM,cAAc;sCAC9B;;;;;;sCAGD,8OAAC,4JAAA,CAAA,UAAI;4BACH,MAAK;4BACL,WAAU;4BACV,SAAS,IAAM,cAAc;sCAC9B;;;;;;sCAGD,8OAAC,4JAAA,CAAA,UAAI;4BACH,MAAK;4BACL,WAAU;4BACV,SAAS,IAAM,cAAc;sCAC9B;;;;;;sCAGD,8OAAC;4BACC,SAAS;4BACT,WAAU;4BACV,cAAW;;8CAEX,8OAAC;oCACC,OAAM;oCACN,WAAU;oCACV,MAAK;oCACL,SAAQ;oCACR,QAAO;oCACP,eAAY;8CAEZ,cAAA,8OAAC;wCACC,eAAc;wCACd,gBAAe;wCACf,aAAa;wCACb,GAAE;;;;;;;;;;;gCAEA;;;;;;;;;;;;;;;;;;;;;;;;AAQpB","debugId":null}},
    {"offset": {"line": 977, "column": 0}, "map": {"version":3,"sources":["file:///Users/macuser/Documents/GitHub/Hackathon_GL_2025/app/patients/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { JSX } from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { motion } from \"framer-motion\";\nimport { \n  FaPlus, FaEdit, FaTrash, FaPrint, FaEye, FaExclamationTriangle, \n  FaSearch, FaSort, FaFilter, FaWeight, FaIdCard, \n  FaHeartbeat, \n  FaNotesMedical, FaVenus, FaMars, FaTransgender, FaBirthdayCake \n} from \"react-icons/fa\";\nimport Notification from \"../components/Notification\";\nimport Navbar from \"../components/Navbar\";\n\ntype Patient = {\n  id: string;\n  name: string;\n  age: number;\n  sexe: 'M' | 'F' | 'Autre' | string;\n  diagnosis: string;\n  poids: number | null;\n  taille: number | null;\n  traitement: string | null;\n  numSecu: string | null;\n  medecin: string | null;\n  rendezvous: string | null;\n  createdAt: string;\n  notes: string | null;\n  groupeSanguin: string | null;\n  allergies: string | null;\n};\n\ntype MedicalAppointmentData = {\n  patientName?: string;\n  patientId?: string;\n  date?: string;\n  time?: string;\n  duration?: string;\n  doctorName?: string;\n  speciality?: string;\n  location?: string;\n  address?: string;\n  reason?: string;\n  instructions?: string;\n  contactPhone?: string;\n  isUrgent?: boolean;\n  insuranceRequired?: boolean;\n  documents?: string[];\n};\n\nexport default function PatientsPage() {\n  const [patients, setPatients] = useState<Patient[]>([]);\n  const [search, setSearch] = useState(\"\");\n  const [filterKey, setFilterKey] = useState<keyof Patient>(\"name\");\n  const [sortAsc, setSortAsc] = useState(true);\n  \n  // États pour les notifications améliorées\n  const [notification, setNotification] = useState(\"\");\n  const [notificationType, setNotificationType] = useState<\"success\" | \"error\" | \"warning\" | \"info\" | \"appointment\">(\"info\");\n  const [notificationDetails, setNotificationDetails] = useState<string | undefined>(undefined);\n  const [notificationData, setNotificationData] = useState<MedicalAppointmentData | undefined>(undefined);\n  const [notificationAction, setNotificationAction] = useState<any>(undefined);\n  const [appointmentConfirmCallback, setAppointmentConfirmCallback] = useState<(() => void) | undefined>(undefined);\n  const [appointmentCancelCallback, setAppointmentCancelCallback] = useState<(() => void) | undefined>(undefined);\n  const [appointmentRescheduleCallback, setAppointmentRescheduleCallback] = useState<(() => void) | undefined>(undefined);\n  \n  const [printMode, setPrintMode] = useState(false);\n  const [expandedPatient, setExpandedPatient] = useState<string | null>(null);\n  const router = useRouter();\n\n  const loadPatients = () => {\n    fetch(\"/api/patients\")\n      .then(async (res) => {\n        if (!res.ok) throw new Error(`Erreur API: ${res.status}`);\n        const data = await res.json();\n        setPatients(data);\n\n        const alertes = data.filter((p) =>\n          p.diagnosis?.toLowerCase().includes(\"critique\")\n        );\n        \n        const maintenant = new Date();\n        const dansTroisJours = new Date();\n        dansTroisJours.setDate(maintenant.getDate() + 3);\n        \n        // Trouver les rendez-vous à venir\n        const prochainsRdvs = data.filter((p) => {\n          if (!p.rendezvous) return false;\n          const rdv = new Date(p.rendezvous);\n          return rdv >= maintenant && rdv <= dansTroisJours;\n        });\n\n        if (alertes.length > 0) {\n          setNotification(`${alertes.length} patient(s) en état critique`);\n          setNotificationType(\"warning\");\n          setNotificationDetails(\n            alertes.map(p => `• ${p.name} - ${p.diagnosis}`).join(\"\\n\")\n          );\n          setNotificationData(undefined);\n          setAppointmentConfirmCallback(undefined);\n          setAppointmentCancelCallback(undefined);\n          setAppointmentRescheduleCallback(undefined);\n          setNotificationAction({\n            label: \"Voir détails\",\n            onClick: () => {\n              const patientId = alertes[0].id;\n              router.push(`/patients/dossier/${patientId}`);\n            }\n          });\n        } else if (prochainsRdvs.length > 0) {\n          // Si un seul RDV, montrer les détails avec le nouveau format\n          if (prochainsRdvs.length === 1) {\n            const patient = prochainsRdvs[0];\n            const rdvDate = new Date(patient.rendezvous);\n            const estUrgent = patient.diagnosis?.toLowerCase().includes(\"urgent\") || false;\n            \n            // Déterminer si le rendez-vous est aujourd'hui\n            const estAujourdhui = rdvDate.toDateString() === maintenant.toDateString();\n            \n            // Numéro de téléphone fictif pour l'exemple\n            const contactTel = \"01 23 45 67 89\";\n            \n            // Informations améliorées pour le rendez-vous\n            setNotification(estUrgent ? \"Rendez-vous médical urgent\" : (estAujourdhui ? \"Rendez-vous médical aujourd'hui\" : \"Rendez-vous médical à venir\"));\n            setNotificationType(\"appointment\");\n            setNotificationData({\n              patientName: patient.name,\n              patientId: patient.id,\n              date: rdvDate.toLocaleDateString(\"fr-FR\", {\n                weekday: 'long',\n                day: 'numeric',\n                month: 'long',\n                year: 'numeric'\n              }),\n              time: rdvDate.toLocaleTimeString(\"fr-FR\", {\n                hour: \"2-digit\",\n                minute: \"2-digit\"\n              }),\n              duration: \"1 heure\",\n              doctorName: patient.medecin || \"Non assigné\",\n              reason: patient.diagnosis || \"Consultation générale\",\n              instructions: patient.notes || undefined,\n              contactPhone: contactTel,\n              isUrgent: estUrgent,\n              insuranceRequired: true,\n              documents: patient.allergies \n                ? [\"Carte Vitale\", \"Pièce d'identité\", \"Carnet de santé\", \"Liste des allergies\"] \n                : [\"Carte Vitale\", \"Pièce d'identité\", \"Carnet de santé\"],\n              location: \"Cabinet médical principal\",\n              address: \"123 Avenue de la Médecine, 75001 Paris\"\n            });\n            \n            // Configuration des callbacks pour les actions de rendez-vous\n            setAppointmentConfirmCallback(() => {\n              // Code pour confirmer le rdv\n              console.log(`Rendez-vous confirmé pour ${patient.name}`);\n              // Ici on pourrait appeler une API pour mettre à jour le statut\n            });\n            \n            setAppointmentCancelCallback(() => {\n              // Code pour annuler le rdv\n              console.log(`Rendez-vous annulé pour ${patient.name}`);\n              // Ici on pourrait appeler une API pour mettre à jour le statut\n            });\n            \n            setAppointmentRescheduleCallback(() => {\n              // Code pour reprogrammer\n              router.push(`/patients/rendez-vous/${patient.id}/reprogrammer`);\n            });\n            \n            setNotificationAction({\n              label: \"Voir le dossier\",\n              onClick: () => {\n                router.push(`/patients/dossier/${patient.id}`);\n              }\n            });\n          } else {\n            // Si plusieurs RDV, montrer un résumé\n            setNotification(`${prochainsRdvs.length} rendez-vous à venir dans les 3 prochains jours`);\n            setNotificationType(\"info\");\n            \n            const details = prochainsRdvs.map(p => {\n              const rdvDate = new Date(p.rendezvous);\n              return `• ${p.name} - ${rdvDate.toLocaleDateString(\"fr-FR\", {weekday: 'long'})} ${rdvDate.toLocaleDateString(\"fr-FR\")} à ${rdvDate.toLocaleTimeString(\"fr-FR\", {hour: \"2-digit\", minute: \"2-digit\"})}`;\n            }).join(\"\\n\");\n            \n            setNotificationDetails(details);\n            setNotificationData(undefined);\n            setAppointmentConfirmCallback(undefined);\n            setAppointmentCancelCallback(undefined);\n            setAppointmentRescheduleCallback(undefined);\n            setNotificationAction({\n              label: \"Voir tous les RDV\",\n              onClick: () => {\n                // Rediriger vers une page de calendrier (à implémenter)\n                router.push(\"/rendez-vous\");\n              }\n            });\n          }\n        } else {\n          // Pas de notification\n          setNotification(\"\");\n          setNotificationDetails(undefined);\n          setNotificationData(undefined);\n          setNotificationAction(undefined);\n          setAppointmentConfirmCallback(undefined);\n          setAppointmentCancelCallback(undefined);\n          setAppointmentRescheduleCallback(undefined);\n        }\n      })\n      .catch((err) => {\n        console.error(\"Erreur chargement patients:\", err);\n        setPatients([]);\n        setNotification(\"Erreur lors du chargement des patients\");\n        setNotificationType(\"error\");\n        setNotificationData(undefined);\n        setAppointmentConfirmCallback(undefined);\n        setAppointmentCancelCallback(undefined);\n        setAppointmentRescheduleCallback(undefined);\n      });\n  };\n\n  useEffect(() => {\n    const isLoggedIn = localStorage.getItem(\"isLoggedIn\");\n    if (!isLoggedIn) {\n      router.push(\"/login\");\n    } else {\n      loadPatients();\n    }\n    \n    // Décommenter pour tester la notification améliorée des rendez-vous\n    /*\n    setTimeout(() => {\n      setNotification(\"Rappel de rendez-vous médical\");\n      setNotificationType(\"appointment\");\n      setNotificationData({\n        patientName: \"Martin Dupont\",\n        patientId: \"P123456\",\n        date: \"Vendredi 11 avril 2025\",\n        time: \"14:30\",\n        duration: \"45 minutes\",\n        doctorName: \"Dr. Sophie Lambert\",\n        speciality: \"Cardiologie\",\n        reason: \"Suivi post-opératoire\",\n        location: \"Clinique Saint-Joseph\",\n        address: \"45 boulevard de l'Hôpital, 75013 Paris\",\n        instructions: \"Veuillez apporter vos derniers résultats d'analyses sanguines et votre carnet de suivi.\",\n        contactPhone: \"01 23 45 67 89\",\n        isUrgent: false,\n        insuranceRequired: true,\n        documents: [\"Carte Vitale\", \"Pièce d'identité\", \"Résultats d'analyses\", \"Ordonnances en cours\"]\n      });\n      setAppointmentConfirmCallback(() => {\n        console.log(\"RDV confirmé\");\n      });\n      setAppointmentCancelCallback(() => {\n        console.log(\"RDV annulé\");\n      });\n      setAppointmentRescheduleCallback(() => {\n        router.push(\"/rendez-vous/reprogrammer\");\n      });\n      setNotificationAction({\n        label: \"Voir le dossier\",\n        onClick: () => {\n          console.log(\"Redirection vers le dossier patient\");\n        }\n      });\n    }, 1000);\n    */\n  }, []);\n\n  const handleDelete = async (id: string) => {\n    if (confirm(\"Êtes-vous sûr de vouloir supprimer ce patient ?\")) {\n      try {\n        const res = await fetch(`/api/patients/${id}`, { method: \"DELETE\" });\n        if (!res.ok) throw new Error(`Erreur suppression patient: ${res.status}`);\n        loadPatients();\n        setNotification(\"Patient supprimé avec succès\");\n        setNotificationType(\"success\");\n        setNotificationDetails(undefined);\n        setNotificationData(undefined);\n        setNotificationAction(undefined);\n        setAppointmentConfirmCallback(undefined);\n        setAppointmentCancelCallback(undefined);\n        setAppointmentRescheduleCallback(undefined);\n      } catch (error) {\n        console.error(\"Erreur suppression patient:\", error);\n        setNotification(\"Erreur lors de la suppression\");\n        setNotificationType(\"error\");\n      }\n    }\n  };\n\n  const handlePrint = () => {\n    window.print();\n  };\n\n  const togglePatientExpand = (id: string) => {\n    setExpandedPatient(expandedPatient === id ? null : id);\n  };\n\n  const filteredPatients = [...patients]\n    .filter((patient) => {\n      const value = patient[filterKey];\n      if (value === null || value === undefined) return false;\n      return String(value).toLowerCase().includes(search.toLowerCase());\n    })\n    .sort((a, b) => {\n      const valueA = a[filterKey];\n      const valueB = b[filterKey];\n      \n      if (valueA === null && valueB === null) return 0;\n      if (valueA === null) return sortAsc ? 1 : -1;\n      if (valueB === null) return sortAsc ? -1 : 1;\n      \n      if (typeof valueA === \"string\" && typeof valueB === \"string\") {\n        return sortAsc\n          ? valueA.localeCompare(valueB)\n          : valueB.localeCompare(valueA);\n      }\n      \n      return sortAsc\n        ? (valueA as any) - (valueB as any)\n        : (valueB as any) - (valueA as any);\n    });\n\n  const calculateIMC = (poids: number | null, taille: number | null) => {\n    if (!poids || !taille) return { value: null, status: \"\", color: \"\" };\n    \n    const imc = (poids / Math.pow(taille, 2)).toFixed(1);\n    let status = \"\";\n    let color = \"\";\n    \n    if (parseFloat(imc) < 18.5) {\n      status = \"Insuffisance pondérale\";\n      color = \"text-blue-500\";\n    } else if (parseFloat(imc) < 25) {\n      status = \"Poids normal\";\n      color = \"text-green-500\";\n    } else if (parseFloat(imc) < 30) {\n      status = \"Surpoids\";\n      color = \"text-yellow-500\";\n    } else {\n      status = \"Obésité\";\n      color = \"text-red-500\";\n    }\n    \n    return { value: imc, status, color };\n  };\n\n  const formatDate = (dateString: string | null): string => {\n    if (!dateString) return \"-\";\n    const date = new Date(dateString);\n    return date.toLocaleDateString(\"fr-FR\", {\n      day: \"2-digit\",\n      month: \"2-digit\",\n      year: \"numeric\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n    });\n  };\n  \n  const renderSexe = (sexe: string) => {\n    switch (sexe?.toUpperCase()) {\n      case 'M':\n        return <span className=\"flex items-center text-blue-600\"><FaMars className=\"mr-1 print:hidden\" /> Masculin</span>;\n      case 'F':\n        return <span className=\"flex items-center text-pink-600\"><FaVenus className=\"mr-1 print:hidden\" /> Féminin</span>;\n      case 'AUTRE':\n        return <span className=\"flex items-center text-purple-600\"><FaTransgender className=\"mr-1 print:hidden\" /> Autre</span>;\n      default:\n        return <span className=\"text-gray-500\">Non spécifié</span>;\n    }\n  };\n\n  const getHighlighted = (key: keyof Patient, value: string | number | null): JSX.Element | string => {\n    if (value === null) return \"-\";\n    const text = String(value);\n    if (filterKey === key && search) {\n      return (\n        <span\n          dangerouslySetInnerHTML={{\n            __html: text.replace(\n              new RegExp(`(${search})`, \"gi\"),\n              `<mark class=\"bg-yellow-300\">$1</mark>`\n            ),\n          }}\n        />\n      );\n    }\n    return text;\n  };\n\n  return (\n    <ProtectedRoute>\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50\">\n    \n      <Navbar />\n      \n      <div className=\"container mx-auto px-4 py-8 text-black\">\n        <motion.div\n          className=\"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4 print:hidden\"\n          initial={{ opacity: 0, y: -20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.5 }}\n        >\n          <div>\n            <h1 className=\"text-3xl font-bold text-indigo-700\">\n              Gestion des Patients\n            </h1>\n            <p className=\"text-gray-500 mt-1 text-lg\">\n              {filteredPatients.length} patient(s) trouvé(s)\n            </p>\n          </div>\n\n          <div className=\"flex flex-wrap gap-3 w-full md:w-auto\">\n            <button\n              onClick={() => router.push(\"/patients/ajouter\")}\n              className=\"flex items-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-700 hover:from-blue-700 hover:to-indigo-800 text-white px-4 py-2 rounded-lg transition text-lg shadow-md\"\n            >\n              <FaPlus /> Nouveau patient\n            </button>\n            <button\n              onClick={handlePrint}\n              className=\"flex items-center gap-2 bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition text-lg shadow-md\"\n            >\n              <FaPrint /> Imprimer\n            </button>\n          </div>\n        </motion.div>\n\n        {/* Print-only header */}\n        <div className=\"hidden print:block print-header p-4 border-b mb-4\">\n          <h1 className=\"text-2xl font-bold text-center\">Liste des Patients</h1>\n          <p className=\"text-center text-gray-600\">\n            Généré le {new Date().toLocaleDateString(\"fr-FR\")}\n          </p>\n        </div>\n\n        {/* Print-only table */}\n        <div className=\"hidden print:block mb-8\">\n          <table className=\"w-full border-collapse\">\n            <thead>\n              <tr className=\"border-b-2 border-gray-800\">\n                <th className=\"py-2 px-4 text-left\">N°</th>\n                <th className=\"py-2 px-4 text-left\">Nom</th>\n                <th className=\"py-2 px-4 text-left\">Sexe</th>\n                <th className=\"py-2 px-4 text-left\">Diagnostic</th>\n              </tr>\n            </thead>\n            <tbody>\n              {filteredPatients.map((patient, index) => (\n                <tr key={patient.id} className=\"border-b border-gray-200\">\n                  <td className=\"py-2 px-4\">{index + 1}</td>\n                  <td className=\"py-2 px-4\">{patient.name}</td>\n                  <td className=\"py-2 px-4\">\n                    {patient.sexe === 'M' ? 'Masculin' : \n                     patient.sexe === 'F' ? 'Féminin' : \n                     patient.sexe === 'Autre' ? 'Autre' : 'Non spécifié'}\n                  </td>\n                  <td className=\"py-2 px-4\">{patient.diagnosis || '-'}</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n\n        <motion.div\n          className=\"bg-white rounded-xl shadow-lg p-6 mb-6 print:hidden\"\n          initial={{ opacity: 0, y: -10 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.5, delay: 0.1 }}\n        >\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div className=\"relative\">\n              <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                <FaSearch className=\"text-gray-400\" />\n              </div>\n              <input\n                type=\"text\"\n                placeholder={`Rechercher...`}\n                value={search}\n                onChange={(e) => setSearch(e.target.value)}\n                className=\"pl-10 w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-lg text-black shadow-sm\"\n              />\n            </div>\n\n            <div className=\"relative\">\n              <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                <FaFilter className=\"text-gray-400\" />\n              </div>\n              <select\n                value={filterKey}\n                onChange={(e) => setFilterKey(e.target.value as keyof Patient)}\n                className=\"pl-10 w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-lg text-black shadow-sm\"\n              >\n                <option value=\"name\">Nom</option>\n                <option value=\"age\">Âge</option>\n                <option value=\"sexe\">Sexe</option>\n                <option value=\"diagnosis\">Diagnostic</option>\n                <option value=\"medecin\">Médecin</option>\n                <option value=\"numSecu\">N° Sécurité Sociale</option>\n                <option value=\"traitement\">Traitement</option>\n                <option value=\"groupeSanguin\">Groupe sanguin</option>\n                <option value=\"allergies\">Allergies</option>\n                <option value=\"rendezvous\">Prochain RDV</option>\n              </select>\n            </div>\n\n            <button\n              onClick={() => setSortAsc(!sortAsc)}\n              className=\"flex items-center justify-center gap-2 w-full p-3 bg-gray-100 hover:bg-gray-200 rounded-lg transition text-lg text-black shadow-sm\"\n            >\n              <FaSort />\n              {sortAsc ? \"Croissant\" : \"Décroissant\"}\n            </button>\n          </div>\n        </motion.div>\n\n        <motion.div\n          className=\"bg-white rounded-xl shadow-lg overflow-hidden print:shadow-none print:rounded-none\"\n          initial={{ opacity: 0, y: -10 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.5, delay: 0.2 }}\n        >\n          <div className=\"overflow-x-auto print:hidden\">\n            {filteredPatients.length === 0 ? (\n              <div className=\"p-8 text-center text-gray-500\">\n                Aucun patient trouvé. Essayez de modifier vos critères de recherche.\n              </div>\n            ) : (\n              <div className=\"space-y-4 p-4\">\n                {filteredPatients.map((patient) => {\n                  const imc = calculateIMC(patient.poids, patient.taille);\n                  const isExpanded = expandedPatient === patient.id;\n                  const isCritical = patient.diagnosis?.toLowerCase().includes(\"critique\");\n\n                  return (\n                    <div \n                      key={patient.id} \n                      className={`border rounded-lg overflow-hidden transition-all duration-300 ${isCritical ? \"border-red-200 bg-red-50\" : \"border-gray-200\"}`}\n                    >\n                      <div \n                        className={`p-4 cursor-pointer flex justify-between items-center ${isCritical ? \"bg-red-100\" : \"bg-gray-50\"}`}\n                        onClick={() => togglePatientExpand(patient.id)}\n                      >\n                        <div className=\"flex items-center space-x-4\">\n                          <div className={`w-12 h-12 rounded-full flex items-center justify-center ${isCritical ? \"bg-red-200 text-red-700\" : \"bg-blue-100 text-blue-700\"}`}>\n                            {patient.name.charAt(0).toUpperCase()}\n                          </div>\n                          <div>\n                            <h3 className=\"font-bold text-lg\">\n                              {patient.name}\n                              {isCritical && <FaExclamationTriangle className=\"ml-2 inline text-red-600\" />}\n                            </h3>\n                            <div className=\"flex flex-wrap gap-x-4 gap-y-1 text-sm text-gray-600\">\n                              <span><FaBirthdayCake className=\"inline mr-1\" /> {patient.age} ans</span>\n                              {renderSexe(patient.sexe)}\n                              {patient.groupeSanguin && (\n                                <span><FaHeartbeat className=\"inline mr-1\" /> {patient.groupeSanguin}</span>\n                              )}\n                            </div>\n                          </div>\n                        </div>\n                        <div className=\"text-right\">\n                          <div className=\"font-medium\">{patient.diagnosis}</div>\n                          <div className=\"text-sm text-gray-500\">\n                            {patient.rendezvous ? formatDate(patient.rendezvous) : \"Pas de RDV\"}\n                          </div>\n                        </div>\n                      </div>\n\n                      {isExpanded && (\n                        <div className=\"p-4 border-t grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                          <div className=\"space-y-2\">\n                            <h4 className=\"font-semibold text-blue-700 flex items-center\">\n                              <FaNotesMedical className=\"mr-2\" /> Informations médicales\n                            </h4>\n                            <div className=\"space-y-1 text-sm\">\n                              <div>\n                                <span className=\"font-medium\">Sexe:</span> {renderSexe(patient.sexe)}\n                              </div>\n                              <div>\n                                <span className=\"font-medium\">Diagnostic:</span> {patient.diagnosis || \"-\"}\n                              </div>\n                              <div>\n                                <span className=\"font-medium\">Traitement:</span> {patient.traitement || \"-\"}\n                              </div>\n                              <div>\n                                <span className=\"font-medium\">Allergies:</span> {patient.allergies || \"Aucune\"}\n                              </div>\n                              <div>\n                                <span className=\"font-medium\">Notes:</span> {patient.notes || \"-\"}\n                              </div>\n                            </div>\n                          </div>\n\n                          <div className=\"space-y-2\">\n                            <h4 className=\"font-semibold text-blue-700 flex items-center\">\n                              <FaWeight className=\"mr-2\" /> Détails physiques\n                            </h4>\n                            <div className=\"space-y-1 text-sm\">\n                              <div>\n                                <span className=\"font-medium\">Poids:</span> {patient.poids ? `${patient.poids} kg` : \"-\"}\n                              </div>\n                              <div>\n                                <span className=\"font-medium\">Taille:</span> {patient.taille ? `${patient.taille} m` : \"-\"}\n                              </div>\n                              <div>\n                                <span className=\"font-medium\">IMC:</span>{\" \"}\n                                {imc.value ? (\n                                  <span className={`font-medium ${imc.color}`}>\n                                    {imc.value} <span className=\"text-xs font-normal\">({imc.status})</span>\n                                  </span>\n                                ) : \"-\"}\n                              </div>\n                              <div>\n                                <span className=\"font-medium\">Groupe sanguin:</span> {patient.groupeSanguin || \"-\"}\n                              </div>\n                            </div>\n                          </div>\n\n                          <div className=\"space-y-2\">\n                            <h4 className=\"font-semibold text-blue-700 flex items-center\">\n                              <FaIdCard className=\"mr-2\" /> Informations administratives\n                            </h4>\n                            <div className=\"space-y-1 text-sm\">\n                              <div>\n                                <span className=\"font-medium\">ID:</span> {patient.id}\n                              </div>\n                              <div>\n                                <span className=\"font-medium\">N° Sécurité Sociale:</span> {patient.numSecu || \"-\"}\n                              </div>\n                              <div>\n                                <span className=\"font-medium\">Médecin traitant:</span> {patient.medecin || \"-\"}\n                              </div>\n                              <div>\n                                <span className=\"font-medium\">Prochain RDV:</span> {formatDate(patient.rendezvous)}\n                              </div>\n                              <div>\n                                <span className=\"font-medium\">Date création:</span> {formatDate(patient.createdAt)}\n                              </div>\n                            </div>\n                          </div>\n\n                          <div className=\"md:col-span-3 flex justify-end space-x-2 pt-4 border-t\">\n                            <button\n                              onClick={() => router.push(`/patients/dossier/${patient.id}`)}\n                              className=\"flex items-center gap-2 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded transition\"\n                            >\n                              <FaEye /> Voir dossier\n                            </button>\n                            <button\n                              onClick={() => router.push(`/patients/modifier/${patient.id}`)}\n                              className=\"flex items-center gap-2 bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded transition\"\n                            >\n                              <FaEdit /> Modifier\n                            </button>\n                            <button\n                              onClick={() => handleDelete(patient.id)}\n                              className=\"flex items-center gap-2 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded transition\"\n                            >\n                              <FaTrash /> Supprimer\n                            </button>\n                          </div>\n                        </div>\n                      )}\n                    </div>\n                  );\n                })}\n              </div>\n            )}\n          </div>\n        </motion.div>\n\n        {notification && (\n          <Notification \n            message={notification} \n            type={notificationType}\n            details={notificationDetails}\n            appointmentData={notificationData}\n            action={notificationAction}\n            onClose={() => {\n              setNotification(\"\");\n              setNotificationDetails(undefined);\n              setNotificationData(undefined);\n              setNotificationAction(undefined);\n            }} \n          />\n        )}\n\n        <style jsx global>{`\n          @media print {\n            body {\n              background: white !important;\n              font-size: 12pt;\n              color: black;\n            }\n            \n            .print\\\\:hidden {\n              display: none !important;\n            }\n            \n            .hidden.print\\\\:block {\n              display: block !important;\n            }\n            \n            .print-header {\n              margin-bottom: 20px;\n              padding-bottom: 10px;\n              border-bottom: 2px solid #000;\n            }\n            nav { \n                  display: none !important;\n                }\n                \n            table {\n              width: 100%;\n              border-collapse: collapse;\n            }\n            \n            th {\n              text-align: left;\n              font-weight: bold;\n              border-bottom: 1px solid #000;\n              padding: 8px;\n            }\n            \n            td {\n              padding: 8px;\n              border-bottom: 1px solid #ddd;\n            }\n            \n            tr:nth-child(even) {\n              background-color: #f9f9f9;\n            }\n          }\n        `}</style>\n      </div>\n    </div>\n    </ProtectedRoute>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}