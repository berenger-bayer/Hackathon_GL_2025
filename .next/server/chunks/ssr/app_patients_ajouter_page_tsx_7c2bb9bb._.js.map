{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/HP/Documents/Github/Hackathon_GL_2025/app/patients/ajouter/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nexport default function AjouterPatientPage() {\r\n  const [newPatient, setNewPatient] = useState({ name: \"\", age: \"\", diagnosis: \"\" });\r\n  const router = useRouter();\r\n\r\n  const handleAddPatient = async (event: React.FormEvent) => {\r\n    event.preventDefault(); // Empêcher le rafraîchissement de la page au submit\r\n\r\n    // Vérification de l'âge\r\n    if (parseInt(newPatient.age) < 0) {\r\n      alert(\"L'âge ne peut pas être négatif.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const res = await fetch(\"/api/patients\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          name: newPatient.name,\r\n          age: parseInt(newPatient.age),\r\n          diagnosis: newPatient.diagnosis,\r\n        }),\r\n      });\r\n\r\n      if (res.ok) {\r\n        alert(\"Patient ajouté avec succès !\");\r\n        router.push(\"/patients\"); \r\n      } else {\r\n        const errorText = await res.text();\r\n        console.error(\"Erreur ajout patient:\", errorText);\r\n        alert(\"Erreur lors de l'ajout du patient.\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Erreur serveur lors de l'ajout:\", error);\r\n      alert(\"Une erreur est survenue lors de l'ajout.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6\">\r\n      {/* Titre avec animation */}\r\n      <motion.h1\r\n        className=\"text-3xl font-semibold text-blue-600 mb-6\"\r\n        initial={{ opacity: 0, y: -50 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ duration: 1 }}\r\n      >\r\n        Ajouter un Patient\r\n      </motion.h1>\r\n\r\n      <div className=\"bg-white p-8 rounded-lg shadow-lg w-full sm:w-96\">\r\n        <form onSubmit={handleAddPatient} className=\"space-y-6\">\r\n          {/* Champ Nom */}\r\n          <div>\r\n            <label htmlFor=\"name\" className=\"block text-sm font-medium text-gray-700\">\r\n              Nom du Patient\r\n            </label>\r\n            <input\r\n              id=\"name\"\r\n              type=\"text\"\r\n              placeholder=\"Nom\"\r\n              value={newPatient.name}\r\n              onChange={(e) => setNewPatient({ ...newPatient, name: e.target.value })}\r\n              className=\"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          {/* Champ Âge */}\r\n          <div>\r\n            <label htmlFor=\"age\" className=\"block text-sm font-medium text-gray-700\">\r\n              Âge\r\n            </label>\r\n            <input\r\n              id=\"age\"\r\n              type=\"number\"\r\n              placeholder=\"Âge\"\r\n              value={newPatient.age}\r\n              onChange={(e) => setNewPatient({ ...newPatient, age: e.target.value })}\r\n              className=\"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          {/* Champ Diagnostic */}\r\n          <div>\r\n            <label htmlFor=\"diagnosis\" className=\"block text-sm font-medium text-gray-700\">\r\n              Diagnostic\r\n            </label>\r\n            <input\r\n              list=\"diagnosis-options\"\r\n              id=\"diagnosis\"\r\n              type=\"text\"\r\n              placeholder=\"Commencez à taper...\"\r\n              value={newPatient.diagnosis}\r\n              onChange={(e) => setNewPatient({ ...newPatient, diagnosis: e.target.value })}\r\n              className=\"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500\"\r\n              required\r\n            />\r\n            <datalist id=\"diagnosis-options\">\r\n              <option value=\"Hypertension artérielle\" />\r\n              <option value=\"Diabète de type 2\" />\r\n              <option value=\"Glomérulonéphrite chronique\" />\r\n              <option value=\"Polykystose rénale\" />\r\n              <option value=\"Insuffisance rénale aiguë\" />\r\n              <option value=\"Insuffisance rénale chronique\" />\r\n              <option value=\"Lupus érythémateux systémique\" />\r\n              <option value=\"Néphropathie diabétique\" />\r\n              <option value=\"Syndrome néphrotique\" />\r\n              <option value=\"Infection urinaire\" />\r\n            </datalist>\r\n          </div>\r\n\r\n          {/* Bouton d'ajout */}\r\n          <div>\r\n            <button\r\n              type=\"submit\"\r\n              className=\"w-full bg-green-500 text-white px-6 py-3 rounded-lg hover:bg-green-600 transition\"\r\n            >\r\n              Ajouter Patient\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}