{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/macuser/Documents/GitHub/Hackathon_GL_2025/app/patients/ajouter/page.tsx"],"sourcesContent":["\"use client\";\nimport { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { motion } from \"framer-motion\";\n\nexport default function AjouterPatientPage() {\n  const [newPatient, setNewPatient] = useState({ name: \"\", age: \"\", diagnosis: \"\" });\n  const router = useRouter();\n\n  const handleAddPatient = async (event: React.FormEvent) => {\n    event.preventDefault(); // Empêcher le rafraîchissement de la page au submit\n\n    // Vérification de l'âge\n    if (parseInt(newPatient.age) < 0) {\n      alert(\"L'âge ne peut pas être négatif.\");\n      return;\n    }\n\n    try {\n      const res = await fetch(\"/api/patients\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          name: newPatient.name,\n          age: parseInt(newPatient.age),\n          diagnosis: newPatient.diagnosis,\n        }),\n      });\n\n      if (res.ok) {\n        alert(\"Patient ajouté avec succès !\");\n        router.push(\"/patients\"); // Rediriger vers la liste des patients après ajout\n      } else {\n        const errorText = await res.text();\n        console.error(\"Erreur ajout patient:\", errorText);\n        alert(\"Erreur lors de l'ajout du patient.\");\n      }\n    } catch (error) {\n      console.error(\"Erreur serveur lors de l'ajout:\", error);\n      alert(\"Une erreur est survenue lors de l'ajout.\");\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6\">\n      {/* Titre avec animation */}\n      <motion.h1\n        className=\"text-3xl font-semibold text-blue-600 mb-6\"\n        initial={{ opacity: 0, y: -50 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 1 }}\n      >\n        Ajouter un Patient\n      </motion.h1>\n\n      <div className=\"bg-white p-8 rounded-lg shadow-lg w-full sm:w-96\">\n        <form onSubmit={handleAddPatient} className=\"space-y-6\">\n          {/* Champ Nom */}\n          <div>\n            <label htmlFor=\"name\" className=\"block text-sm font-medium text-gray-700\">\n              Nom du Patient\n            </label>\n            <input\n              id=\"name\"\n              type=\"text\"\n              placeholder=\"Nom\"\n              value={newPatient.name}\n              onChange={(e) => setNewPatient({ ...newPatient, name: e.target.value })}\n              className=\"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500\"\n              required\n            />\n          </div>\n\n          {/* Champ Âge */}\n          <div>\n            <label htmlFor=\"age\" className=\"block text-sm font-medium text-gray-700\">\n              Âge\n            </label>\n            <input\n              id=\"age\"\n              type=\"number\"\n              placeholder=\"Âge\"\n              value={newPatient.age}\n              onChange={(e) => setNewPatient({ ...newPatient, age: e.target.value })}\n              className=\"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500\"\n              required\n            />\n          </div>\n\n          {/* Champ Diagnostic */}\n          <div>\n            <label htmlFor=\"diagnosis\" className=\"block text-sm font-medium text-gray-700\">\n              Diagnostic\n            </label>\n            <input\n              list=\"diagnosis-options\"\n              id=\"diagnosis\"\n              type=\"text\"\n              placeholder=\"Commencez à taper...\"\n              value={newPatient.diagnosis}\n              onChange={(e) => setNewPatient({ ...newPatient, diagnosis: e.target.value })}\n              className=\"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500\"\n              required\n            />\n            <datalist id=\"diagnosis-options\">\n              <option value=\"Hypertension artérielle\" />\n              <option value=\"Diabète de type 2\" />\n              <option value=\"Glomérulonéphrite chronique\" />\n              <option value=\"Polykystose rénale\" />\n              <option value=\"Insuffisance rénale aiguë\" />\n              <option value=\"Insuffisance rénale chronique\" />\n              <option value=\"Lupus érythémateux systémique\" />\n              <option value=\"Néphropathie diabétique\" />\n              <option value=\"Syndrome néphrotique\" />\n              <option value=\"Infection urinaire\" />\n            </datalist>\n          </div>\n\n          {/* Bouton d'ajout */}\n          <div>\n            <button\n              type=\"submit\"\n              className=\"w-full bg-green-500 text-white px-6 py-3 rounded-lg hover:bg-green-600 transition\"\n            >\n              Ajouter Patient\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}